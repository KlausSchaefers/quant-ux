{"version":3,"file":"js/app.a562b3e9.js","mappings":"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","sources":["webpack://quant-ux/./src/common/Logger.js","webpack://quant-ux/./src/core/Core.js","webpack://quant-ux/./src/core/CoreUtil.js","webpack://quant-ux/./src/core/DistributionUtil.js","webpack://quant-ux/./src/core/Logger.js","webpack://quant-ux/./src/core/ModelGeom.js","webpack://quant-ux/./src/core/ModelResizer.js","webpack://quant-ux/./src/core/ModelUtil.js","webpack://quant-ux/./src/core/ai/StyleImporter.js","webpack://quant-ux/./src/dojo/Evented.js","webpack://quant-ux/./src/dojo/_base/lang.js","webpack://quant-ux/./src/dojo/css.js","webpack://quant-ux/./src/dojo/win.js","webpack://quant-ux/./src/App.vue?8fbf","webpack://quant-ux/src/App.vue","webpack://quant-ux/./src/App.vue?facb","webpack://quant-ux/./src/App.vue","webpack://quant-ux/./src/router.js","webpack://quant-ux/./src/main.js","webpack://quant-ux/./src/services/AbstractService.js","webpack://quant-ux/./src/services/UserService.js","webpack://quant-ux/./src/services/ModelService.js","webpack://quant-ux/./src/services/PublicModelService.js","webpack://quant-ux/./src/services/CommentService.js","webpack://quant-ux/./src/services/HelpService.js","webpack://quant-ux/./src/services/ImageService.js","webpack://quant-ux/./src/services/KeyCloakService.js","webpack://quant-ux/./src/services/AIService.js","webpack://quant-ux/./src/services/Services.js","webpack://quant-ux/./src/services/SymbolService.js","webpack://quant-ux/./src/services/WebSocketService.js","webpack://quant-ux/webpack/bootstrap","webpack://quant-ux/webpack/runtime/amd define","webpack://quant-ux/webpack/runtime/amd options","webpack://quant-ux/webpack/runtime/chunk loaded","webpack://quant-ux/webpack/runtime/compat get default export","webpack://quant-ux/webpack/runtime/create fake namespace object","webpack://quant-ux/webpack/runtime/define property getters","webpack://quant-ux/webpack/runtime/ensure chunk","webpack://quant-ux/webpack/runtime/get javascript chunk filename","webpack://quant-ux/webpack/runtime/get mini-css chunk filename","webpack://quant-ux/webpack/runtime/global","webpack://quant-ux/webpack/runtime/hasOwnProperty shorthand","webpack://quant-ux/webpack/runtime/load script","webpack://quant-ux/webpack/runtime/make namespace object","webpack://quant-ux/webpack/runtime/publicPath","webpack://quant-ux/webpack/runtime/css loading","webpack://quant-ux/webpack/runtime/jsonp chunk loading","webpack://quant-ux/webpack/startup"],"sourcesContent":["\nvar vommonLoggingQueue = []\nvar vommonLoggingQueuePos = 0\nvar vommonLoggingQueueMax = 50\nvar vommonLoggingDebugLevel = 0\n\n\nexport default class Logger {\n\n\tconstructor(className) {\n\t\tif (!className.toLowerCase) {\n\t\t\tconsole.warn('Logger.constructor called with params', className)\n\t\t}\n\t\tthis.debugLevel = -1\n\t\tthis.serverDebugLevel = 2\n\t\tthis.prefix = null\n\t\tthis.url = \"/rest/log/error\"\n\t\tthis.className = className;\n\t}\n\n\tsetUser (){\n\t}\n\n\twriteQueue (){\n\t\tvar q = \"\";\n\t\ttry{\n\t\t\tvommonLoggingQueue.sort(function(a,b){\n\t\t\t\treturn b.t -a.t;\n\t\t\t});\n\t\t\tfor(var i=0; i < vommonLoggingQueue.length - 1; i++){\n\t\t\t\tif(vommonLoggingQueue[i]){\n\t\t\t\t\tq+=new Date(vommonLoggingQueue[i].t).toISOString() + \" - \"  + vommonLoggingQueue[i].m +\"\\n\";\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e){\n\t\t\tconsole.error(e)\n\t\t}\n\t\treturn q;\n\t}\n\n\n\tsendError (e){\n\t\tconsole.error('Error', e)\n\t}\n\n\terror (meth, message, error) {\n\t\tvar m = this.className + \".\" + meth;\n\t\tconsole.error(m + \" >> \" + message);\n\t\tif(error){\n\t\t\tconsole.error(error.message);\n\t\t\tconsole.error(error.stack);\n\t\t}\n\t}\n\n\twarn (method, message, obj){\n\t\tthis.warning(0, method, message, obj);\n\t}\n\n\tinfo (method, message, data1){\n\t\tthis.log(1, method, message, data1);\n\t}\n\n\tdebug (method, message, data1){\n\t\tthis.log(4, method, message, data1);\n\t}\n\n\twarning (level,method, message, obj){\n\t\tvar m = this.className + \".\"+method;\n\t\tif(vommonLoggingDebugLevel >= level){\n\t\t\tif(this.prefix){\n\t\t\t\tif(m.indexOf(this.prefix) == 0){\n\t\t\t\t\tif (obj) {\n\t\t\t\t\t\tconsole.warn(m + \" >> \" + message, obj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn(m + \" >> \" + message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else{\n\t\t\t\tif (obj) {\n\t\t\t\t\tconsole.warn(m + \" >> \" + message, obj);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(m + \" >> \" + message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tlog (level, method, message, obj){\n\t\tvar m = this.className + \".\"+method;\n\t\tif(vommonLoggingDebugLevel > level){\n\t\t\tif(this.prefix){\n\t\t\t\tif(m.indexOf(this.prefix) == 0){\n\t\t\t\t\tif (obj){\n\t\t\t\t\t\tconsole.debug(m + \" >> \" + message, obj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.debug(m + \" >> \" + message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (obj !== undefined){\n\t\t\t\t\tconsole.debug(m + \" >> \" + message, obj);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.debug(m + \" >> \" + message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(this.serverDebugLevel > level){\n\t\t\tvar entry = {\n\t\t\t\tt: new Date().getTime(),\n\t\t\t\tm : m+ \" >> \" + message\n\t\t\t}\n\t\t\tvommonLoggingQueue[vommonLoggingQueuePos] = entry;\n\t\t\tvommonLoggingQueuePos = (vommonLoggingQueuePos+1) % vommonLoggingQueueMax;\n\t\t}\n\n\n\t}\n}","import lang from '../dojo/_base/lang'\nimport Evented from '../dojo/Evented'\nimport ModelGeom from './ModelGeom'\nimport ModelResizer from './ModelResizer'\nimport ModelUtil from './ModelUtil'\nimport * as DistributeUtil  from './DistributionUtil'\n\n// FIXME: I believe we do not need  evented\nexport default class Core extends Evented {\n\n    constructor() {\n        super()\n    }\n\n\n\n    /**\n     * Gets all teh widgets that are in the container! The method\n     * takes the order into account\n     * @param {} widgets\n     * @param {*} container\n     */\n    getParentWidgets(widget, model) {\n        const result = []\n        /*\n         * Loop over sorted list\n         */\n        const sortedWidgets = this.getOrderedWidgets(model.widgets)\n        for (let i = 0; i < sortedWidgets.length; i++) {\n            const container = sortedWidgets[i]\n            //console.debug('Repeater.core', container.name, container.isContainer, container.id, widget.id)\n            /**\n             * if the widget is the potential container, we can stop,\n             * because everz thing after is above.\n             */\n            if (container.id != widget.id) {\n                if (container.isContainer) {\n                    //console.debug('  Repeater.core', widget.x, container.x)\n                    if (this._isContainedInBox(widget, container)) {\n                        result.push(container)\n                    }\n                }\n            } else {\n                //console.debug('Repeater.core.exit')\n                break;\n            }\n        }\n        return result;\n    }\n\n    getObjectLength(o) {\n        if (o) {\n            return Object.keys(o).length;\n        } else {\n            return 0;\n        }\n    }\n\n    /**********************************************************************\n     * Clone Tool\n     **********************************************************************/\n    getClones(ids, target) {\n\n        const result = [];\n        const previews = [];\n\n        // 1) get bounding box\n        const boudingBox = this.getBoundingBox(ids);\n\n        let xFactor = 1;\n        if (boudingBox.x > target.x) {\n            xFactor = -1;\n        }\n\n        let yFactor = 1;\n        if (boudingBox.y > target.y) {\n            yFactor = -1;\n        }\n\n        const xCount = Math.floor(target.w / boudingBox.w);\n        const yCount = Math.floor(target.h / boudingBox.h);\n        const xSpace = Math.round((target.w - xCount * boudingBox.w) / Math.max(1, xCount - 1));\n        const ySpace = Math.round((target.h - yCount * boudingBox.h) / Math.max(1, yCount - 1));\n        //console.debug(\"getClones > x: \", xCount,xSpace, \" y:\", yCount, ySpace, \" >> bb: \", boudingBox.w, boudingBox.h, boudingBox.y)\n\n        const offSets = {};\n        for (let i = 0; i < ids.length; i++) {\n            let id = ids[i];\n            var box = this.getBoxById(id);\n            offSets[id] = {\n                x: box.x - boudingBox.x,\n                y: box.y - boudingBox.y,\n                box: box\n            };\n        }\n\n        // now create grid but not at 0,0\n        let count = 0;\n        for (let x = 0; x < xCount; x++) {\n            for (let y = 0; y < yCount; y++) {\n                if (x != 0 || y != 0) {\n                    let id;\n                    for (let i = 0; i < ids.length; i++) {\n                        id = ids[i];\n                        const offset = offSets[id];\n                        //console.debug(id,offset.x, offset.y , offset.box.h + ySpace + offset.y)\n                        const clone = {\n                            w: boudingBox.w,\n                            h: boudingBox.h,\n                            x: boudingBox.x + (x * (boudingBox.w + xSpace) + offset.x) * xFactor,\n                            y: boudingBox.y + (y * (boudingBox.h + ySpace) + offset.y) * yFactor,\n                            z: offset.box.z,\n                            group: count,\n                            cloneOff: id\n                        };\n                        result.push(clone);\n                    }\n                    /**\n                     * FIXME: Should this be in the loop?\n                     */\n                    const preview = {\n                        w: boudingBox.w,\n                        h: boudingBox.h,\n                        x: boudingBox.x + x * (boudingBox.w + xSpace) * xFactor,\n                        y: boudingBox.y + y * (boudingBox.h + ySpace) * yFactor,\n                        z: 0,\n                        cloneOff: id\n                    };\n                    previews.push(preview);\n                    count++;\n                }\n            }\n        }\n        return {\n            previews: previews,\n            clones: result\n        };\n    }\n\n    /***************************************************************************\n     * UI Geometrix helpers\n     ***************************************************************************/\n\n    getBoundingBox(ids) {\n        return ModelGeom.getBoundingBox(ids, this.model);\n    }\n\n    getBoundingBoxByBoxes(boxes) {\n        return ModelGeom.getBoundingBoxByBoxes(boxes);\n    }\n\n    getBoxById(id) {\n        return ModelGeom.getBoxById(id, this.model)\n    }\n\n    getParentScreen(widget, model) {\n        if (!model) {\n            model = this.model\n        }\n        for (let id in model.screens) {\n            const screen = model.screens[id];\n            const i = screen.children.indexOf(widget.id);\n            if (i > -1) {\n                return screen;\n            }\n        }\n        return null;\n    }\n\n    getWidgetPostionInScreen(widget, model) {\n        const screen = this.getParentScreen(widget, model);\n        if (screen) {\n            return {\n                x: widget.x - screen.x,\n                y: widget.y - screen.y,\n                w: widget.w,\n                h: widget.h\n            };\n        } else {\n            return {\n                x: widget.x,\n                y: widget.y,\n                w: widget.w,\n                h: widget.h\n            };\n        }\n    }\n\n    /**\n     * Gets the new position for a group child\n     */\n    _getGroupChildResizePosition(widget, oldGroup, newGroup, dif) {\n        console.warn(\"DEPRECATED! _getGroupChildResizePosition()\")\n        return ModelResizer.getGroupChildResizePosition(widget, oldGroup, newGroup, dif)\n    }\n\n    getObjectFromArray(list, key) {\n        var result = {};\n        for (var i = 0; i < list.length; i++) {\n            var item = list[i];\n            var value = item[key];\n            result[value] = item;\n        }\n        return result;\n    }\n\n    getArrayFromObject(obj, key) {\n        console.error('Core.getArrayFromObject() > Deprecated')\n        return ModelUtil.getArrayFromObject(obj, key)\n    }\n\n    getWidgetsByDistanceAndType(widget, types) {\n        var result = [];\n\n        if (this.model) {\n            let screen = this.getParentScreen(widget);\n            let children = screen.children;\n\n            for (let i = 0; i < children.length; i++) {\n                let widgetID = children[i];\n\n                if (widgetID != widget.id) {\n                    let childWidget = this.model.widgets[widgetID];\n                    var type = childWidget.type;\n                    if (types.indexOf(type) >= 0) {\n                        result.push({\n                            d: 0,\n                            y: childWidget.y,\n                            w: childWidget\n                        });\n                    }\n                }\n            }\n            result.sort(function (a, b) {\n                return a.y - b.y;\n            });\n        }\n\n        return result;\n    }\n\n\n    /**********************************************************************\n     * Distribute Tool\n     **********************************************************************/\n    _distributedPositions(type, ids, boundingBox) {\n        return DistributeUtil.distributedPositions(this.model, type, ids, boundingBox)\n    }\n\n\n    /**********************************************************************\n     * Bounding Box\n     **********************************************************************/\n\n    getGroupBoundingBox(ids) {\n        const result = {\n            x: 100000000,\n            y: 100000000,\n            w: 0,\n            h: 0\n        };\n\n        for (let i = 0; i < ids.length; i++) {\n            const id = ids[i];\n            const box = this.model.widgets[id];\n            if (box) {\n                result.x = Math.min(result.x, box.x);\n                result.y = Math.min(result.y, box.y);\n                result.w = Math.max(result.w, box.x + box.w);\n                result.h = Math.max(result.h, box.y + box.h);\n            } else {\n                console.warn(\"getGroupBoundingBox() > No box with id\", id);\n            }\n        }\n\n        result.h -= result.y;\n        result.w -= result.x;\n\n        return result;\n    }\n\n    getScreenAnimation(screen, eventType) {\n        if (screen.animation && screen.animation[eventType]) {\n            return screen.animation[eventType];\n        }\n    }\n\n    getDataBinding(widget) {\n        if (widget && widget.props && widget.props.databinding) {\n            return widget.props.databinding;\n        }\n    }\n\n    getCallbacks(widget) {\n        if( widget && widget.props && widget.props.callbacks) {\n            return widget.props.callbacks;\n        }\n    }\n\n    countProps(obj) {\n        // FIXME: Porto to ES6\n        var count = 0;\n        for (let k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                count++;\n            }\n        }\n        return count;\n    }\n\n    objectEquals(v1, v2) {\n        if (typeof v1 !== typeof v2) {\n            return false;\n        }\n\n        if (typeof v1 === \"function\") {\n            return v1.toString() === v2.toString();\n        }\n\n        if (v1 instanceof Object && v2 instanceof Object) {\n            if (this.countProps(v1) !== this.countProps(v2)) {\n                return false;\n            }\n            var r = true;\n            for (let k in v1) {\n                r = this.objectEquals(v1[k], v2[k]);\n                if (!r) {\n                    return false;\n                }\n            }\n            return true;\n        } else {\n            if (v1 === v2) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    getStyle(element) {\n        return ModelUtil.getStyle(element, this.model)\n    }\n\n\n    getInheritedStyle(model, widgetViewMode) {\n        if (model && model.parentWidget) {\n            var parent = this.model.widgets[model.parentWidget];\n            if (parent) {\n                var style = lang.mixin(\n                    lang.clone(parent[widgetViewMode]),\n                    model[widgetViewMode]\n                );\n                return style;\n            } else {\n                console.warn(\"Layout.getInheritedStyle() > No template found for widget\", model.id, \" with widgetViewMode \", widgetViewMode);\n            }\n        }\n        return model.style;\n    }\n\n    getWidgetById(id, model) {\n\n        if (model.widgets[id]) {\n            return model.widgets[id];\n        }\n        /**\n         * Ok, there seems to be an inherited model id???\n         */\n        var parts = id.split(\"@\");\n        if (parts.length == 2) {\n            var widgetID = parts[0];\n            return model.widgets[widgetID];\n        }\n\n        return null;\n    }\n\n    /**\n     * Gets the right line for a box. In case of\n     * inherited widgets it takes the line of the parent\n     */\n    getLineFrom(box) {\n        var boxID = box.id;\n        if (box.inherited) {\n            boxID = box.inherited;\n        }\n\n        for (var id in this.model.lines) {\n            var line = this.model.lines[id];\n            if (line.from == boxID) {\n                return line;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Returns all lines where line.from is == box.id.\n     *\n     * The lines are ordered by id, which might be wrong...\n     */\n    getFromLines(box, model) {\n        if (!model) {\n            model = this.model\n        }\n        var result = [];\n        for (var id in model.lines) {\n            var line = model.lines[id];\n            if (line.from == box.id) {\n                result.push(line);\n            }\n        }\n        result.sort(function (a, b) {\n            return a.id.localeCompare(b.id);\n        });\n        return result;\n    }\n\n    getGroupHierarchy (id) {\n        const result = []\n        let group = this.getParentGroup(id)\n        if (group) {\n          result.push(group.id)\n          while (group) {\n            group = this.getParentGroup(group.id)\n            if (group) {\n              result.unshift(group.id)\n            }\n          }\n        }\n        return result\n    }\n\n    getCommonParentGroup(selection) {\n\t\tconst parentGroups = new Set()\n\t\tlet result = null\n\t\tfor (let i = 0; i < selection.length; i++) {\n\t\t\tconst widgetID = selection[i];\n\t\t\tconst group = this.getParentGroup(widgetID);\n\t\t\tif (group) {\n\t\t\t\tresult = group\n\t\t\t\tparentGroups.add(group.id)\n\t\t\t} else {\n\t\t\t\t// no group, we need to create a new parent group\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t// if we have one parentGroup we need to create a \n\t\t// new sub group\n\t\tif(parentGroups.size === 1) {\n\t\t\treturn result\n\t\t}\n\t}\n\n    getTopParentGroup(id) {\n        let group = this.getParentGroup(id)\n        if (group) {\n            let i = 0\n            while (group) {\n                let parent = this.getParentGroup(group.id)\n                if (parent) {\n                    group = parent\n                } else {\n                    /**\n                     * In contrast the the Layout copz of this, we do not add\n                     * all children... not sure it this is needed\n                     */\n                    return group\n                }\n                i++\n                if (i > 32) {\n                    console.error('Core.getTopParentGroup() > To deep recursion for widget : ' + id, group)\n                    return null    \n                }\n            }\n        }\n        return null\n    }\n\n    getAllChildGroups (group) {\n        let result = []\n        if (group.groups) {\n            group.groups.forEach(subId => {\n            let sub = this.model.groups[subId]\n            if (sub) {\n                result.push(sub)\n                let children = this.getAllChildGroups(sub)\n                result = result.concat(children)\n            } else {\n                console.warn('getAllGroupChildren() No sub group', subId)\n            }\n          })\n        }\n        return result\n    }\n\n    getAllGroupChildren(group) {\n        // FIXME: Use ModelUtil.getAllGroupChildren(group, this.model)\n        if (!group.children) {\n            return []\n        }\n        let result = group.children.slice(0)\n        if (group.groups) {\n            group.groups.forEach(subId => {\n                const sub = this.model.groups[subId]\n                if (sub) {\n                    const children = this.getAllGroupChildren(sub)\n                    result = result.concat(children)\n                } else {\n                    console.warn('getAllGroupChildren() No sub group', subId)\n                }\n            })\n        }\n        return result\n    }\n\n    getParentGroup(widgetID) {\n\n        if (this.model.groups) {\n            for (let id in this.model.groups) {\n                const group = this.model.groups[id];\n                const i = group.children.indexOf(widgetID);\n                if (i > -1) {\n                    return group;\n                }\n                /**\n                 * Since 2.13 we have subgroups and check this too\n                 */\n                if (group.groups) {\n                    let i = group.groups.indexOf(widgetID);\n                    if (i > -1) {\n                        return group;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    getZoomed(v, zoom, round = true) {\n       return ModelUtil.getZoomed(v, zoom, round)\n    }\n\n    getZoomedCeil(v, zoom, round = true) {\n       return ModelUtil.getZoomedCeil(v, zoom, round)\n    }\n\n    getUnZoomed(v, zoom) {\n        return Math.round(v / zoom);\n    }\n\n    getZoomedBox(box, zoomX, zoomY, round = true) {\n        return ModelUtil.getZoomedBox(box, zoomX, zoomY, round)\n    }\n\n    getZoomedBoxCopy (box, zoomX, zoomY) {\n        let result = {\n            isZoomed: true,\n            x: this.getZoomed(box.x, zoomX),\n            y: this.getZoomed(box.y, zoomY),\n            w: this.getZoomed(box.w, zoomX),\n            h: this.getZoomed(box.h, zoomY)\n        }\n\n        if (box.min) {\n            result.min = {\n                h: this.getZoomed(box.min.h, zoomY),\n                w: this.getZoomed(box.min.w, zoomX)\n            }\n        }\n\n        return result\n    }\n\n    getUnZoomedBoxCopy (box, zoomX, zoomY) {\n        let result = {\n            isZoomed: false,\n            x: this.getUnZoomed(box.x, zoomX),\n            y: this.getUnZoomed(box.y, zoomY),\n            w: this.getUnZoomed(box.w, zoomX),\n            h: this.getUnZoomed(box.h, zoomY)\n        }\n\n        if (box.min) {\n            result.min = {\n                h: this.getUnZoomed(box.min.h, zoomY),\n                w: this.getUnZoomed(box.min.w, zoomX)\n            }\n        }\n\n        return result\n    }\n\n    getUnZoomedBox(box, zoomX, zoomY) {\n        /**\n         * Fall back\n         */\n        if (!zoomY) {\n            zoomY = zoomX;\n        }\n\n        if (box.x) {\n            box.x = this.getUnZoomed(box.x, zoomX);\n        }\n\n        if (box.y) {\n            box.y = this.getUnZoomed(box.y, zoomY);\n        }\n\n        if (box.w) {\n            box.w = this.getUnZoomed(box.w, zoomX);\n        }\n\n        if (box.h) {\n            box.h = this.getUnZoomed(box.h, zoomY);\n        }\n\n        return box;\n    }\n\n    /**\n     * Creates scalled down model and also adds inheritance.\n     *\n     * FIXME: Change name to createViewModel();\n     */\n    createZoomedModel(zoomX, zoomY, isPreview, model) {\n\n        if (!model) {\n            //console.warn('createZoomedModel without model', new Error.stack)\n            model = this.model;\n        }\n        /**\n         * Fall back\n         */\n        if (!zoomY) {\n            zoomY = zoomX;\n        }\n        const zoomedModel = lang.clone(model);\n        zoomedModel.isZoomed = true;\n\n        this.getZoomedBox(zoomedModel.screenSize, zoomX, zoomY);\n\n        for (let id in zoomedModel.widgets) {\n            this.getZoomedBox(zoomedModel.widgets[id], zoomX, zoomY);\n        }\n\n        for (let id in zoomedModel.screens) {\n            const zoomedScreen = this.getZoomedBox(\n                zoomedModel.screens[id],\n                zoomX,\n                zoomY\n            );\n\n            /**\n             * This has a tiny tiny bug that makes copy of the same screen jump as x and y and rounded()\n             * To fix this, we should take the relative and x and y in the parent and round that...\n             *\n             * scalledWidget.x = scalledScreen.x + (orgWidget.x - orgScreen.x)*zoomX\n             *\n             * As an alternative we could stop using Math.round() ...\n             */\n            for (let i = 0; i < zoomedScreen.children.length; i++) {\n                const wid = zoomedScreen.children[i];\n                const zoomWidget = zoomedModel.widgets[wid];\n                const orgWidget = model.widgets[wid];\n                if (orgWidget) {\n                    /**\n                     * When we copy a screen we might not have the org widget yet\n                     */\n                    const orgScreen = model.screens[zoomedScreen.id];\n                    const difX = this.getZoomed(orgWidget.x - orgScreen.x, zoomX);\n                    const difY = this.getZoomed(orgWidget.y - orgScreen.y, zoomY);\n                    if (orgWidget.parentWidget) {\n                        if (zoomWidget.x >= 0) {\n                            zoomWidget.x = zoomedScreen.x + difX;\n                        }\n                        if (zoomWidget.y >= 0) {\n                            zoomWidget.y = zoomedScreen.y + difY;\n                        }\n                    } else {\n                        zoomWidget.x = zoomedScreen.x + difX;\n                        zoomWidget.y = zoomedScreen.y + difY;\n                    }\n                }\n            }\n        }\n\n        for (let id in zoomedModel.lines) {\n            const line = zoomedModel.lines[id];\n            for (let i = 0; i < line.points.length; i++) {\n                this.getZoomedBox(line.points[i], zoomX, zoomY);\n            }\n        }\n\n        /**\n         * Now do inheritance here\n         */\n        const inheritedModel = this.createInheritedModel(zoomedModel);\n\n        return inheritedModel;\n    }\n\n\n    createInheritedModel(model) {\n        /**\n         * Build lookup map for overwrites\n         */\n        const overwritenWidgets = {};\n        for (let screenID in model.screens) {\n            let screen = model.screens[screenID];\n            overwritenWidgets[screenID] = {};\n            for (let i = 0; i < screen.children.length; i++) {\n                let widgetID = screen.children[i];\n                let widget = model.widgets[widgetID];\n                if (widget && widget.parentWidget) {\n                    overwritenWidgets[screenID][widget.parentWidget] = widgetID;\n                }\n            }\n        }\n\n        // Todo: we could check if the model is zoomed and not clone...\n        let inModel = lang.clone(model);\n        inModel.inherited = true;\n\n\n        /**\n         * add container widgets\n         */\n        this.createContaineredModel(inModel)\n\n        /**\n         * add screen segments\n         */\n        this.createScreenSegmentModel(inModel)\n\n        /**\n         * add widgets from parent (master) screens\n         */\n        for (let screenID in inModel.screens) {\n            /**\n             * *ATTENTION* We read from the org model, otherwise we have\n             * issues in the loop as we change the screen.\n             */\n            let inScreen = inModel.screens[screenID]\n            let screen = model.screens[screenID];\n            if (screen.parents && screen.parents.length > 0) {\n                /**\n                 * add widgets from parent screens\n                 */\n                for (let i = 0; i < screen.parents.length; i++) {\n                    let parentID = screen.parents[i];\n                    if (parentID != screenID) {\n                        if (model.screens[parentID]) {\n                            /**\n                             * *ATTENTION* We read from the org model, otherwise we have\n                             * issues in the loop as we change the screen!\n                             */\n                            let parentScreen = model.screens[parentID];\n\n                            /**\n                             * Also copy rulers\n                             */\n                            this._addRulersFromParent(inScreen, parentScreen)\n\n                            /**\n                             * Since 2.1.3 we also copy the color\n                             */\n                            this._addBackgroundFromParent(inScreen, parentScreen, model)\n\n                            let difX = parentScreen.x - screen.x;\n                            let difY = parentScreen.y - screen.y;\n\n                            let parentChildren = parentScreen.children;\n                            for (var j = 0; j < parentChildren.length; j++) {\n                                let parentWidgetID = parentChildren[j];\n\n                                /**\n                                 * *ATTENTION* We read from the org model, otherwise we have\n                                 * issues in the loop as we change the screen!\n                                 */\n                                let parentWidget = model.widgets[parentWidgetID];\n                                if (parentWidget) {\n                                    let overwritenWidgetID = overwritenWidgets[screenID][parentWidgetID];\n                                    if (!overwritenWidgetID) {\n                                        let copy = lang.clone(parentWidget);\n\n                                        /**\n                                         * Super important the ID mapping!!\n                                         */\n                                        copy.id = parentWidget.id + \"@\" + screenID;\n                                        copy.inherited = parentWidget.id;\n                                        copy.inheritedScreen = screenID;\n                                        copy.masterScreen = parentID\n                                        copy.inheritedOrder = i + 1;\n\n                                        /**\n                                         * Now lets also put it at the right position!\n                                         */\n                                        copy.x -= difX;\n                                        copy.y -= difY;\n\n                                        /**\n                                         * We write the new widget to the inherited model!\n                                         *\n                                         */\n                                        inModel.widgets[copy.id] = copy;\n                                        inModel.screens[screenID].children.push(copy.id);\n\n                                        /**\n                                         * Also add a to the inherited copies\n                                         * so we can to live updates in canvas\n                                         */\n                                        let parentCopy = inModel.widgets[parentWidget.id];\n                                        if (!parentCopy.copies) {\n                                            parentCopy.copies = [];\n                                        }\n                                        parentCopy.copies.push(copy.id);\n                                    } else {\n                                        let overwritenWidget = inModel.widgets[overwritenWidgetID];\n\n                                        if (overwritenWidget) {\n                                            //console.debug(\"inheried() \",overwritenWidgetID,  overwritenWidget.style.background)\n                               \n                                            overwritenWidget.props = this.mixin(lang.clone(parentWidget.props), overwritenWidget.props, true);\n                                            overwritenWidget.style = this.mixin(lang.clone(parentWidget.style), overwritenWidget.style, true);\n                                            //console.debug(\"   ->\", overwritenWidget.style.background, overwritenWidget.style._mixed.background)\n                                            if (overwritenWidget.hover) {\n                                                overwritenWidget.hover = this.mixin(lang.clone(parentWidget.hover), overwritenWidget.hover, true);\n                                            }\n                                            if (overwritenWidget.error) {\n                                                overwritenWidget.error = this.mixin(lang.clone(parentWidget.error), overwritenWidget.error, true);\n                                            }\n\n                                            /**\n                                             * Also add a reference to the *INHERITED* copies\n                                             * so we can to live updates in canvas\n                                             */\n                                            let parentCopy = inModel.widgets[parentWidget.id];\n                                            if (!parentCopy.inheritedCopies) {\n                                                parentCopy.inheritedCopies = [];\n                                            }\n                                            parentCopy.inheritedCopies.push(overwritenWidget.id);\n\n                                            /**\n                                             * Also inherited positions\n                                             */\n                                            if (overwritenWidget.parentWidgetPos) {\n                                                overwritenWidget.x = parentWidget.x - difX;\n                                                overwritenWidget.y = parentWidget.y - difY;\n                                                overwritenWidget.w = parentWidget.w;\n                                                overwritenWidget.h = parentWidget.h;\n                                            }\n                                            overwritenWidget._inheried = true;\n                                        } else {\n                                            console.error(\"createInheritedModel() > No overwriten widget in model\");\n                                        }\n                                    }\n                                } else {\n                                    console.warn(\"createInheritedModel() > no parent screen child with id > \" + parentID + \">\" + parentWidget);\n                                }\n                            }\n                        } else {\n                            let parentScreen = model.screens[parentID];\n                            console.warn(\"createInheritedModel() > Deteced Self inheritance...\" + parentID, screen, parentScreen);\n                        }\n                    } else {\n                        console.warn(\"createInheritedModel() > no parent screen with id > \" + parentID);\n                    }\n                }\n            }\n        }\n\n        /**\n         * Inline designtokens. must come last, otherwise master screen widgets are not correctly filled.\n         */\n        inModel = ModelUtil.inlineModelDesignTokens(inModel)\n\n        /**\n         * Since 4.0.60 we want to inline also all template variants\n         */\n        inModel = ModelUtil.inlineAllTemplateVariants(inModel)\n        return inModel;\n    }\n\n\n    _addRulersFromParent(screen, parent) {\n        if (parent.rulers) {\n            if (!screen.rulers) {\n                screen.rulers = []\n            }\n            parent.rulers.forEach(ruler => {\n                let copy = lang.clone(ruler);\n                copy.inherited = ruler.id\n                screen.rulers.push(copy)\n            })\n        }\n    }\n\n    _addBackgroundFromParent(screen, parent, model) {\n        if (model.version >= 2) {\n            // FIXME: we need a flag to decide if we overwrite the color or not?\n            // if (parent.style && screen.style) {\n            //    screen.style.background = parent.style.background\n            // }\n        }\n    }\n\n    createScreenSegmentModel(inModel) {\n        // TODO: why not build a lookup map (screenID, List[Widgets]), so \n        // we don't have to do the forEach loop down?\n        let screenSegments = []\n        for (let widgetID in inModel.widgets) {\n            let widget = inModel.widgets[widgetID]\n            if (widget.type === 'ScreenSegment') {\n                screenSegments.push(widget)\n            }\n        }\n        if (screenSegments.length < 0) {\n            // we could already step out in here\n            // return\n        }\n        for (let screenID in inModel.screens) {\n            let screen = inModel.screens[screenID];\n            if (screen.segment) {\n                screenSegments.forEach(segment => {\n                    /**\n                     * make sure we have a backwards reference from the widgets rendered\n                     * in the segment for fast updates in the renderfactory\n                     */\n                    if (segment.props && segment.props.screenID && screen.id === segment.props.screenID) {\n                        for (let i = 0; i < screen.children.length; i++) {\n                            let widgetID = screen.children[i];\n                            let widget = inModel.widgets[widgetID];\n                            if (widget) {\n                                if (!widget.segmentParent) {\n                                    widget.segmentParent = []\n                                }\n                                widget.segmentParent.push(segment.id)\n                            } else {\n                                console.warn('Core.createScreenSegmentModel() No widget with id', widgetID, 'in', screenID)\n                            }\n                        }\n                    }\n                })\n            }\n        }\n    }\n\n    createContaineredModel(inModel) {\n        for (let screenID in inModel.screens) {\n            const screen = inModel.screens[screenID];\n            for (let i = 0; i < screen.children.length; i++) {\n                const widgetID = screen.children[i];\n                const widget = inModel.widgets[widgetID];\n                if (widget) {\n                    if (widget.isContainer) {\n                        let children = this.getContainedChildWidgets(widget, inModel, screen)\n                        widget.children = children.map(w => w.id)\n                    }\n                }\n            }\n        }\n        // containers do not work on canvas???\n    }\n\n    getContainedChildWidgets(container, model, scrn) {\n        const result = []\n        /*\n         * Loop over sorted list.\n         * TODO: make this faster. We could get the screen of the container,\n         * and then just loop over the screen children\n         * \n         * //sortChildren(screen.children, model)\n         */\n        const sortedWidgets = this.sortChildren(scrn.children, model) //this.getOrderedWidgets(model.widgets) ////sortChildren(screen.children, model)\n        let found = false\n        for (let i = 0; i < sortedWidgets.length; i++) {\n            const widget = sortedWidgets[i]\n            if (container.id != widget.id) {\n                if (found && this._isContainedInBox(widget, container)) {\n                    widget.container = container.id\n                    result.push(widget)\n                }\n            } else {\n                found = true\n            }\n        }\n        return result;\n    }\n\n    static addContainerChildrenToModel(model) {\n        /**\n         * Add here some function to add the virtual children, so that stuff\n         * works also in the analytic canvas. This would mean we would have to\n         * copy all the code from the Repeater to here...\n         */\n        return model\n    }\n\n\n    mixin(a, b, keepTrack) {\n        if (a && b) {\n            b = lang.clone(b);\n            if (keepTrack) {\n                b._mixed = {};\n            }\n\n            for (var k in a) {\n                if (b[k] === undefined || b[k] === null) {\n                    b[k] = a[k];\n                    if (keepTrack) {\n                        b._mixed[k] = true;\n                    }\n                }\n            }\n        }\n        return b;\n    }\n\n    mixinNotOverwriten(a, b) {\n        if (a && b) {\n            var mixed = {};\n            if (b._mixed) {\n                mixed = b._mixed;\n            }\n            //console.debug(\"mixinNotOverwriten\", overwriten)\n            for (var k in a) {\n                if (b[k] === undefined || b[k] === null || mixed[k]) {\n                    b[k] = a[k];\n                }\n            }\n        }\n        return b;\n    }\n\n    getStartScreen(model) {\n        if (!model) {\n            model = this.model;\n        }\n        for (var id in model.screens) {\n            var screen = model.screens[id];\n            if (screen.props.start) {\n                return screen;\n            }\n        }\n        return null;\n    }\n\n\n    stripHTML(s) {\n        if (!s)\n            s = \"\";\n        s = s.replace(/<\\/?[^>]+(>|$)/g, \"\");\n        s = s.replace(/%/g, \"$perc;\"); // Mongo cannot deal with % on undo\n        return s;\n    }\n\n    unStripHTML(s) {\n        if (!s) {\n            s = \"\";\n        }\n        s = s.replace(/\\$perc;/g, \"%\");\n        return s;\n    }\n\n    setInnerHTML(e, txt) {\n        if (e) {\n            txt = this.stripHTML(txt);\n            txt = txt.replace(/\\n/g, \"<br>\");\n            txt = txt.replace(/\\$perc;/g, \"%\"); // Mongo cannot deal with % on undo\n            e.innerHTML = txt;\n        } else {\n            console.warn(\"setInnerHTML() > No node to set test > \", txt);\n        }\n    }\n\n    setTextContent(e, txt) {\n        if (e) {\n            txt = this.stripHTML(txt);\n            txt = txt.replace(/\\n/g, \"<br>\");\n            txt = txt.replace(/\\$perc;/g, \"%\"); // Mongo cannot deal with % on undo\n            e.textContent = txt;\n        } else {\n            console.warn(\"setTextContent() > No node to set test > \", txt);\n        }\n    }\n\n    _isContainedInBox(obj, parent) {\n        if (parent) {\n            if (\n                obj.x >= parent.x &&\n                obj.x + obj.w <= parent.w + parent.x &&\n                (obj.y >= parent.y && obj.y + obj.h <= parent.y + parent.h)\n            ) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    getHoverScreen(box) {\n        return this._getHoverScreen(box, this.model);\n    }\n\n    _getHoverScreen(box, model) {\n        return ModelGeom.getHoverScreen(box, model);\n    }\n\n    _isBoxChild(obj, parent) {\n        if (\n            obj.x + obj.w < parent.x ||\n            parent.x + parent.w < obj.x ||\n            obj.y + obj.h < parent.y ||\n            parent.y + parent.h < obj.y\n        ) {\n            return false;\n        }\n        return true;\n    }\n\n\n    /**\n     * Zvalue\n     */\n\n    getNormalizeWidgetZValues(values) {\n        /**\n         * convert values to a sorted list!\n         */\n        const list = [];\n        for (let id in values) {\n            list.push({\n                id: id,\n                z: values[id]\n            });\n        }\n        this.sortWidgetList(list);\n\n        let z = 0;\n        let lastZ = null;\n        let result = {};\n        for (let i = 0; i < list.length; i++) {\n            let w = list[i];\n            if (lastZ === null || lastZ != w.z) {\n                z++;\n                lastZ = w.z;\n            }\n            result[w.id] = z;\n        }\n\n        return result;\n    }\n\n    getMinZValue(widgets) {\n        let min = 100000;\n        let l = 0;\n        for (let id in widgets) {\n            const w = widgets[id];\n            min = Math.min(w.z, min);\n            l++;\n        }\n        if (l > 0) {\n            return min;\n        } else {\n            return 0;\n        }\n    }\n\n    getMaxZValue(widgets) {\n        let max = -10000;\n        let l = 0;\n        for (let id in widgets) {\n            const w = widgets[id];\n            max = Math.max(w.z, max);\n            l++;\n        }\n        if (l > 0) {\n            return max;\n        } else {\n            return 0;\n        }\n    }\n\n    getZValues(widgets) {\n        const values = {};\n        for (let id in widgets) {\n            const widget = widgets[id];\n            this.fixMissingZValue(widget);\n            values[id] = widget.z;\n        }\n        return values;\n    }\n\n    isFixedWidget(w) {\n        if (w.style && w.style.fixed) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * FIX for old models without z-value\n     */\n    fixMissingZValue(box) {\n        if (box.z === null || box.z === undefined) {\n            box.z = 0;\n        }\n    }\n\n\n    /**\n     * Get children\n     */\n    getOrderedWidgets(widgets, useIds = true) {\n        const result = [];\n        for (let id in widgets) {\n            const widget = widgets[id];\n            if (widget) {\n                this.fixMissingZValue(widget);\n                result.push(widget);\n            }\n        }\n        this.sortWidgetList(result, useIds);\n        return result;\n    }\n\n    /**\n     * Sort Screen children to render them in the correct order!\n     *\n     * Pass the children as parameter\n     */\n    sortChildren(children, model, useIds = true) {\n        if (!model) {\n            model = this.model\n        }\n        const result = [];\n        for (let i = 0; i < children.length; i++) {\n            const widgetID = children[i];\n            const widget = model.widgets[widgetID];\n            if (widget) {\n                this.fixMissingZValue(widget);\n                result.push(widget);\n            }\n        }\n        this.sortWidgetList(result, useIds);\n        return result;\n    }\n\n    /**\n     * This method is super important for the correct rendering!\n     *\n     * We sort by:\n     *\n     *  1) style.fixed: fixed elements will be renderd last, therefore they come\n     *  as the last elements in the list\n     *\n     * \t2) inherited : inherited values come first. They shall be rendered below the\n     *  widget of the new screen\n     *\n     *  3) z : High z values come later\n     *\n     *  4) id: if the z value is the same, sort by id, which means the order the widgets have been\n     *  added to the screen.\n     */\n    sortWidgetList(result, useIds = false) {\n\n        /**\n         * Inline function to determine if a widget is fixed.\n         * we have to check if style exists, because the Toolbar.onToolWidgetLayer()\n         * call the method without styles.\n         */\n        let isFixed = (w) => {\n            if (w.style && w.style.fixed) {\n                return true;\n            }\n            return false;\n        };\n\n        result.sort((a, b) => {\n            let aFix = isFixed(a);\n            let bFix = isFixed(b);\n\n\n            /**\n             * 1) Sort by fixed. If both are fixed or not fixed,\n             * continue sorting by inherited.\n             */\n            if (aFix == bFix) {\n\n                /**\n                 * 2) If both are inherited continue sorting by z & id.\n                 */\n                if (!a.inherited && !b.inherited) {\n                    /**\n                     * 2.a) if the have the same z, soet by id. This should be highly decrecated!\n                     */\n                    if (a.z == b.z && (a.id && b.id) && useIds) {\n                        //console.warn('Order BY ID DPRECATED', a.z, b.z, a, b.id)\n                        return a.id.localeCompare(b.id);\n                    }\n\n                    /**\n                     * 2.b) Sort by z. Attention, Chrome\n                     * needs -1, 0, 1 or one. > does not work\n                     */\n                    return a.z - b.z;\n                }\n\n                /**\n                 * 3) If both are not inherited,\n                 * continue sorting by z, because they\n                 * will not be in the same screen\n                 */\n                if (a.inherited && b.inherited) {\n\n                    /**\n                     * 3.a) Sort by z. Attention, Chrome\n                     * needs -1, 0, 1 or one. > does not work\n                     */\n                    return a.z - b.z;\n                }\n\n\n                if (a.inherited) {\n                    return -1;\n                }\n\n                return 1;\n            }\n            if (aFix) {\n                return 1;\n            }\n            return -1;\n        });\n    }\n\n\n    getModelChildren(screen) {\n        var result = [];\n\n        for (let id in this.model.widgets) {\n            let pos = screen.children.indexOf(id);\n            if (pos >= 0) {\n                result.push(this.model.widgets[id]);\n            }\n        }\n\n        return result;\n    }\n\n\n    /***************************************************************************\n     * Line helpers\n     ***************************************************************************/\n\n    getLinesForWidget(widget) {\n\n        /**\n         * In case of an inherited widget, use the lines of the master\n         */\n        if (widget.inherited && this.model.widgets[widget.inherited]) {\n            widget = this.model.widgets[widget.inherited];\n        }\n\n        var widgetID = widget.id;\n        var lines = this.getFromLines(widget);\n        if (lines && lines.length > 0) {\n            return lines;\n        }\n\n        var group = this.getParentGroup(widgetID);\n        if (group) {\n            var groupLine = this.getFromLines(group);\n            if (groupLine && groupLine.length > 0) {\n                return groupLine;\n            }\n        }\n\n        /**\n         * Since 2.1.3 we use might have sub groups.\n         */\n        var topGroup = this.getTopParentGroup(widgetID);\n        if (topGroup) {\n            let groupLine = this.getFromLines(topGroup);\n            if (groupLine && groupLine.length > 0) {\n                return groupLine;\n            }\n        }\n    }\n\n    getToLines(box) {\n        var result = [];\n\n        for (var id in this.model.lines) {\n            var line = this.model.lines[id];\n            if (line.to == box.id) {\n                result.push(line);\n            }\n        }\n\n        return result;\n    }\n\n    getLines(box, deep) {\n        var result = [];\n\n        var _ids = {};\n\n        for (let id in this.model.lines) {\n            let line = this.model.lines[id];\n            if (line.to == box.id || line.from == box.id) {\n                result.push(line);\n                _ids[line.id] = true;\n            }\n        }\n\n        if (box.children && deep) {\n            for (let i = 0; i < box.children.length; i++) {\n                let childID = box.children[i];\n                for (let id in this.model.lines) {\n                    let line = this.model.lines[id];\n                    if (!_ids[line.id]) {\n                        if (line.from == childID || line.to == childID) {\n                            result.push(line);\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    hasLine(widget) {\n        for (let id in this.model.lines) {\n            let line = this.model.lines[id];\n            if (line.from == widget.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    getLine(widget) {\n        for (let id in this.model.lines) {\n            let line = this.model.lines[id];\n            if (line.from == widget.id) {\n                return line;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * For all line drawing this function returns the widget, or in case of an\n     * group the bounding box!\n     */\n    getFromBox(line) {\n        let fromPos = this.model.widgets[line.from];\n\n        if (!fromPos) {\n            fromPos = this.model.screens[line.from];\n        }\n\n        if (!fromPos && this.model.groups) {\n            /**\n             * no widget, must be a group\n             */\n            const group = this.model.groups[line.from];\n            if (group) {\n                const children = this.getAllGroupChildren(group)\n                fromPos = this.getBoundingBox(children);\n            }\n        }\n\n        return fromPos;\n    }\n\n    getToBox(line) {\n        var to = this.model.screens[line.to];\n        if (!to) {\n            to = this.model.widgets[line.to];\n        }\n        return to;\n    }\n\n    static getChildScreens(model, screen) {\n        return Object.values(model.screens).map(s => {\n            if (s.parents) {\n                if (s.parents.indexOf(screen.id) >= 0) {\n                    return s\n                }\n            }\n            return null\n        }).filter(s => s !== null)\n    }\n\n    static getMasterScreens(model, screen) {\n        let result = []\n        if (screen.parents) {\n            for (let i = 0; i < screen.parents.length; i++) {\n                let parentID = screen.parents[i];\n                if (parentID != screen.id) {\n                    let parentScreen = model.screens[parentID];\n                    if (parentScreen) {\n                        result.push(parentScreen)\n                    }\n                }\n            }\n        }\n        return result\n    }\n\n    getAllRulers(model, screen) {\n        let result = []\n        if (screen.rulers) {\n            result = result.concat(screen.rulers)\n        }\n        let parents = Core.getMasterScreens(model, screen)\n        parents.forEach(parentScreen => {\n            if (parentScreen.rulers) {\n                result = result.concat(parentScreen.rulers)\n            }\n        })\n        return result\n    }\n\n    getSortedScreenChildren(model, screen, isReverse = true) {\n        let widgets = {}\n        for (let i = 0; i < screen.children.length; i++) {\n            let widgetID = screen.children[i];\n            let widget = model.widgets[widgetID];\n            if (widget) {\n                widgets[widget.id] = widget\n            }\n        }\n        let result = this.getOrderedWidgets(widgets);\n        if (isReverse) {\n            return result.reverse()\n        }\n        return result\n    }\n}","import Core from './Core'\n\n/**\n * Static import of Core\n */\nclass CoreUtil extends Core{\n\n    constructor () {\n        super()\n    }\n\n}\nexport default new CoreUtil()","\nimport ModelUtil from \"./ModelUtil\";\nimport ModelGeom from \"./ModelGeom\";\nimport Logger from \"./Logger\";\n\nexport function getDistributionMatrix(model, ids) {\n    return {\n        horizontal: getDistributionSets(model, 'vertical', ids).length,\n        vertical: getDistributionSets(model, 'horizontal', ids).length\n    }\n}\n\nexport function getDistributionSets (model, type, ids) {\n    Logger.log(1, 'DistributionUtil.getDistributionSets() > enter')\n    /**\n     * 1) get all subsets (rows or columns) depending on type\n     */\n    const sets = [];\n    for (let i = 0; i < ids.length; i++) {\n        const widgetID = ids[i];\n        const widget = model.widgets[widgetID];\n        if (widget) {\n            /**\n             * Attention: This seems counter intuitive. But for vertical,\n             * we have to find columns (x axis) and for horizontal we need\n             * rows (z - axis).\n             */\n            if (type == \"vertical\") {\n                const start = widget.x;\n                const end = widget.x + widget.w;\n                _addToDisSet(sets, widget, start, end);\n            } else {\n                const start = widget.y;\n                const end = widget.y + widget.h;\n                _addToDisSet(sets, widget, start, end);\n            }\n        }\n    }\n    return sets\n}\n\nexport function distributedPositions(model, type, ids, boundingBox) {\n    Logger.log(1, 'DistributionUtil.distributedPositions() > enter')\n    /**\n     * 1) get all subsets (rows or columns) depending on type\n     */\n    const sets = getDistributionSets(model, type, ids, boundingBox)\n\n    /**\n     * Now resize for every set!\n     */\n    const result = {};\n    let distances = [];\n    for (let i = 0; i < sets.length; i++) {\n        const set = sets[i];\n        const temp = _distributedPositionsInSubSet(model, type, set.children, boundingBox);\n        const tempPositions = temp.positions;\n        for (let id in tempPositions) {\n            if (!result[id]) {\n                result[id] = tempPositions[id];\n            }\n        }\n        distances = distances.concat(temp.distances);\n    }\n\n\n\n    return {\n        positions: result,\n        distances: distances\n    };\n}\n\n\nfunction _addToDisSet(sets, widget, start, end) {\n    const overlapps = [];\n\n    for (let i = 0; i < sets.length; i++) {\n        const set = sets[i];\n        const overlap = _getDisOverlap(start, end, set.start, set.end);\n        if (overlap > 0) {\n            set.start = Math.min(set.start, start);\n            set.end = Math.max(set.end, end);\n            set.children.push(widget.id);\n            set.pos = i;\n            overlapps.push(set);\n        }\n    }\n    if (overlapps.length == 0) {\n        sets.push({\n            start: start,\n            end: end,\n            children: [widget.id]\n        });\n    }\n\n    /**\n     * If an element is in two sets, the sets should be merged!\n     * It is not super important, as we would have in worst\n     * case one set, which would fuck up rending in worst case...\n     * Actually it should not happen often (or at all)\n     */\n    if (overlapps.length > 1) {\n        const merged = {\n            start: start,\n            end: end,\n            children: []\n        };\n        for (let i = 0; i < overlapps.length; i++) {\n            const temp = overlapps[i];\n            merged.start = Math.min(merged.start, temp.start);\n            merged.end = Math.max(merged.end, temp.end);\n            merged.children = merged.children.concat(temp.children);\n            sets.splice(temp.pos, 1);\n        }\n    }\n}\n\nfunction _getDisOverlap(a, b, c, d) {\n    //return Math.max(0, Math.min(max1, max2) - Math.max(min1, min2))\n    return (\n        Math.min(Math.max(a, b), Math.max(c, d)) -\n        Math.max(Math.min(c, d), Math.min(a, b))\n    );\n}\n\n\nfunction _distributedPositionsInSubSet(model, type, ids, boundingBox) {\n    const result = {};\n\n    /**\n     * 1) find groups... This can be bounding boxes or single widgets\n     */\n    const boxes = _getSelectionGroupPositions(model, ids);\n\n    /**\n     * 2) Now we calculate the positions\n     */\n    const positions = _getDistributedPositions(type, boxes, boundingBox);\n    const distances = [];\n    /**\n     * 3) now we fit the group children to their parents...\n     */\n    for (let id in positions) {\n        const newPos = positions[id];\n        if (newPos.children) {\n            for (var widgetID in newPos.children) {\n                var widgetPos = newPos.children[widgetID];\n                widgetPos.x = newPos.x + widgetPos.offSetX;\n                widgetPos.y = newPos.y + widgetPos.offSetY;\n                result[widgetID] = widgetPos;\n            }\n        } else {\n            result[id] = newPos;\n        }\n\n        if (newPos.distanceX || newPos.distanceY) {\n            distances.push({\n                x: newPos.distanceX,\n                y: newPos.distanceY\n            });\n        }\n    }\n\n    return {\n        positions: result,\n        distances: distances\n    };\n}\n\n\nfunction _getDistributedPositions(type, boxes, boundingBox) {\n    const positions = {};\n\n    boxes.sort(function (a, b) {\n        if (type == \"vertical\") {\n            return a.y - b.y;\n        } else {\n            return a.x - b.x;\n        }\n    });\n    let sum = 0;\n    for (let i = 0; i < boxes.length; i++) {\n        var box = boxes[i];\n        if (type == \"vertical\") {\n            sum += box.h;\n        } else {\n            sum += box.w;\n        }\n    }\n    let last = boxes[boxes.length - 1];\n    if (type == \"vertical\") {\n        sum = boundingBox.h - sum;\n    } else {\n        sum = boundingBox.w - sum;\n    }\n\n    let space = sum / (boxes.length - 1);\n    last = 0;\n    let lastBox = null;\n    for (let i = 0; i < boxes.length; i++) {\n        const widget = boxes[i];\n\n        const widgetPos = {\n            x: widget.x,\n            y: widget.y,\n            h: widget.h,\n            w: widget.w,\n            children: widget.children\n        };\n        if (i == 0) {\n            if (type == \"vertical\") {\n                widgetPos.y = boundingBox.y;\n                last = widgetPos.y + widgetPos.h;\n            } else {\n                widgetPos.x = boundingBox.x;\n                last = widgetPos.x + widgetPos.w;\n            }\n        } else if (i == boxes.length - 1) {\n            if (type == \"vertical\") {\n                widgetPos.y = Math.round(boundingBox.y + boundingBox.h - widget.h);\n            } else {\n                widgetPos.x = Math.round(boundingBox.x + boundingBox.w - widget.w);\n            }\n        } else {\n            if (type == \"vertical\") {\n                widgetPos.y = Math.round(last + space);\n                last = Math.round(widgetPos.y + widgetPos.h);\n            } else {\n                widgetPos.x = Math.round(last + space);\n                last = Math.round(widgetPos.x + widgetPos.w);\n            }\n        }\n\n        /**\n         * Also store distance so we can show later!\n         */\n        if (lastBox) {\n            if (type == \"vertical\") {\n                widgetPos.distanceY = {\n                    y: lastBox.y + lastBox.h,\n                    h: widgetPos.y - (lastBox.y + lastBox.h),\n                    x: Math.round(widgetPos.x + widgetPos.w / 2)\n                };\n            } else {\n                //console.debug(\"distHor\", widgetPos.x - (lastBox.x +lastBox.w))\n                widgetPos.distanceX = {\n                    x: lastBox.x + lastBox.w,\n                    w: widgetPos.x - (lastBox.x + lastBox.w),\n                    y: Math.round(widgetPos.y + widgetPos.h / 2)\n                };\n            }\n        }\n\n        positions[widget.id] = widgetPos;\n        lastBox = widgetPos;\n    }\n    return positions;\n}\n\n/**\n* Get widget positions and bounding boxes for groups...\n*/\nfunction _getSelectionGroupPositions(model, ids) {\n   const groups = {};\n   for (let i = 0; i < ids.length; i++) {\n        const widgetID = ids[i];\n        const widget = model.widgets[widgetID];\n        const group = ModelUtil.getParentGroup(model, widgetID);\n        if (group) {\n            const bbx = ModelGeom.getBoundingBox(group.children, model);\n            if (!groups[group.id]) {\n               bbx.children = {};\n               groups[group.id] = bbx;\n            }\n           \n            groups[group.id].children[widgetID] = {\n                x: widget.x,\n                y: widget.y,\n                h: widget.h,\n                w: widget.w,\n                offSetX: widget.x - bbx.x,\n                offSetY: widget.y - bbx.y\n            };\n            \n       } else {\n           groups[widgetID] = {\n               x: widget.x,\n               y: widget.y,\n               h: widget.h,\n               w: widget.w\n           };\n       }\n   }\n\n  \n   return ModelUtil.getArrayFromObject(groups, \"id\");\n}\n\n\n\nexport function _distributedPositionsBak (model, type, widgets, boundingBox) {\n    var positions = {};\n\n    var temp = [];\n    for (let i = 0; i < widgets.length; i++) {\n      let widgetID = widgets[i];\n      let widget = model.widgets[widgetID];\n      temp.push(widget);\n    }\n\n    temp.sort(function(a, b) {\n      if (type == \"vertical\") {\n        return a.y - b.y;\n      } else {\n        return a.x - b.x;\n      }\n    });\n\n    var sum = 0;\n    for (let i = 0; i < widgets.length; i++) {\n      let widget = temp[i];\n      if (type == \"vertical\") {\n        sum += widget.h;\n      } else {\n        sum += widget.w;\n      }\n    }\n    var last = temp[temp.length - 1];\n    if (type == \"vertical\") {\n      sum = boundingBox.h - sum;\n    } else {\n      sum = boundingBox.w - sum;\n    }\n\n    var space = sum / (widgets.length - 1);\n    last = 0;\n\n    for (let i = 0; i < temp.length; i++) {\n      let widget = temp[i];\n      var widgetPos = { x: widget.x, y: widget.y, h: widget.h, w: widget.w };\n      if (i == 0) {\n        if (type == \"vertical\") {\n          widgetPos.y = boundingBox.y;\n          last = widgetPos.y + widgetPos.h;\n        } else {\n          widgetPos.x = boundingBox.x;\n          last = widgetPos.x + widgetPos.w;\n        }\n      } else if (i == temp.length - 1) {\n        if (type == \"vertical\") {\n          widgetPos.y = Math.round(boundingBox.y + boundingBox.h - widget.h);\n        } else {\n          widgetPos.x = Math.round(boundingBox.x + boundingBox.w - widget.w);\n        }\n      } else {\n        if (type == \"vertical\") {\n          widgetPos.y = Math.round(last + space);\n          last = Math.round(widgetPos.y + widgetPos.h);\n        } else {\n          widgetPos.x = Math.round(last + space);\n          last = Math.round(widgetPos.x + widgetPos.w);\n        }\n      }\n      positions[widget.id] = widgetPos;\n    }\n\n    Logger.log(0,\"DistrubtionUtil.calculateDistributedPositions\", \"enter > \" +type +\" > space : \" + space);\n\n    return positions;\n  }\n\n\nexport function getLines(model, selection) {\n    let boundingBox = getBoundingBox(model, selection)\n    let xLines = {}\n    let yLines = {}\n    selection.forEach(id => {\n        let box = getBoxById(model, id)\n        if (box) {\n            let left = box.x - boundingBox.x\n            addLine(xLines, left, id, 'left', boundingBox.w)\n\n            let right = box.x + box.w - boundingBox.x\n            addLine(xLines, right, id, 'right', boundingBox.w)\n\n            let top = box.y - boundingBox.y\n            addLine(yLines, top, id, 'top', boundingBox.h)\n\n            let bottom = box.y + box.h - boundingBox.y\n            addLine(yLines, bottom, id, 'bottom', boundingBox.h)\n        }\n    });\n    return {\n        xLines: xLines,\n        yLines: yLines,\n        boundingBox: boundingBox\n    }\n}\n\nfunction addLine (result, line, id, attach, max) {\n    if (line > 0 && line < max){\n        if (!result[line]) {\n            result[line] = {\n                lines: []\n            }\n        }\n        result[line].lines.push({\n            id: id,\n            attach: attach\n        })\n    }\n    \n}\n\n\nfunction getBoundingBox (model, ids) {\n    var result = { x: 100000000, y: 100000000, w: 0, h: 0 , isBoundingBox: true, ids: ids};\n\n    for (var i = 0; i < ids.length; i++) {\n      var id = ids[i];\n      var box = getBoxById(model, id);\n      if (box) {\n        result.x = Math.min(result.x, box.x);\n        result.y = Math.min(result.y, box.y);\n        result.w = Math.max(result.w, box.x + box.w);\n        result.h = Math.max(result.h, box.y + box.h);\n      } else {\n        console.warn(\"getBoundingBox() > No box with id\", id);\n      }\n    }\n    result.h -= result.y;\n    result.w -= result.x;\n    return result;\n}\n\n\nfunction getBoxById (model, id) {\n    if (model.widgets[id]) {\n        return model.widgets[id];\n    }\n\n    if (model.screens[id]) {\n        return model.screens[id];\n    }\n\n    if (model.templates && model.templates[id]) {\n        return model.templates[id];\n    }\n    return null;\n}","class Logger {\n\n  constructor () {\n      this.logLevel = 0\n  }\n\n  setLogLevel (l) {\n      console.debug('SetLogLevel', l)\n      this.logLevel = l\n  }\n\n  warn(msg, obj) {\n      if (obj !== undefined) {\n          console.warn(msg, obj)\n      } else {\n          console.warn(msg)\n      }\n  }\n  error(msg, obj) {\n      if (obj !== undefined) {\n          console.error(msg, obj)\n      } else {\n          console.error(msg)\n      }\n  }\n  log(level, msg, obj, obj2 = '') {\n      if (level < this.logLevel) {\n          if (obj !== undefined) {\n              console.debug(msg, obj, obj2)\n          } else {\n              console.debug(msg)\n          }\n      }\n  }\n}\nexport default new Logger()","\n/**\n * A class that should in the long run contain all the geometric functions\n * that are somehow scattered around, Core.js and Util.vue\n */\nclass ModelGeom {\n\n\n    getBoundingBox (ids, model) {\n        const result = { x: 100000000, y: 100000000, w: 0, h: 0 , isBoundingBox: true, ids: ids};\n     \n        for (let i = 0; i < ids.length; i++) {\n            const id = ids[i];\n            const box = this.getBoxById(id, model);\n            if (box) {\n                result.x = Math.min(result.x, box.x);\n                result.y = Math.min(result.y, box.y);\n                result.w = Math.max(result.w, box.x + box.w);\n                result.h = Math.max(result.h, box.y + box.h);\n            } else {\n                console.warn(\"getBoundingBox() > No box with id\", id);\n            }\n        }\n        result.h -= result.y;\n        result.w -= result.x;\n        return result;\n    }\n\n    getBoundingBoxByBoxes (boxes) {\n        const result = { x: 100000000, y: 100000000, w: 0, h: 0, isBoundingBox: true};\n\n        for (let i = 0; i < boxes.length; i++) {\n            const box = boxes[i];\n            result.x = Math.min(result.x, box.x);\n            result.y = Math.min(result.y, box.y);\n            result.w = Math.max(result.w, box.x + box.w);\n            result.h = Math.max(result.h, box.y + box.h);\n        }\n\n        result.h -= result.y;\n        result.w -= result.x;\n\n        return result;\n    }\n\n    getMinZValueByIDs(ids, model) {\n        let min = 100000;\n        let l = 0;\n        ids.forEach(id => {\n            const w = model.widgets[id];\n            if (w) {\n                min = Math.min(w.z, min);\n                l++;\n            } else {\n                console.debug('getMinZValueByIDs() > cannot find', id)\n            }\n        })\n        if (l > 0) {\n            return min;\n        } else {\n            return 0;\n        }\n    }\n\n    getBoxById (id, model) {\n        if (model.widgets[id]) {\n            return model.widgets[id];\n        }\n\n        if (model.screens[id]) {\n            return model.screens[id];\n        }\n\n        if (model.templates && model.templates[id]) {\n            return model.templates[id];\n        }\n\n        /**\n         * Ok, there seems to be an inherited model id???\n         *\n         *\n         */\n        if (!id || !id.split) {\n            console.debug(\"getBoxById() > ID is wrong: \" + id);\n            return null;\n        }\n        var parts = id.split(\"@\");\n        if (parts.length == 2) {\n            var widgetID = parts[0];\n            var screenID = parts[1];\n\n            var screen = model.screens[screenID];\n            var parentWidget = model.widgets[widgetID];\n            if (screen && parentWidget) {\n                /**\n                 * Would getParentScreen() also work???\n                 */\n                var parentScreen = this.getHoverScreen(parentWidget, model);\n\n                if (parentScreen) {\n\n                    var difX = parentScreen.x - screen.x;\n                    var difY = parentScreen.y - screen.y;\n\n                    var copiedParentWidget = this.clone(parentWidget);\n\n                    /**\n                     * Super important the ID mapping!!\n                     */\n                    copiedParentWidget.id = id;\n                    copiedParentWidget.inherited = parentWidget.id;\n                    copiedParentWidget.inheritedOrder = 1;\n\n                    /**\n                     * Now lets also put it at the right position!\n                     */\n                    copiedParentWidget.x -= difX;\n                    copiedParentWidget.y -= difY;\n\n                    return copiedParentWidget;\n                } else {\n                    console.warn('ModelGeom.getBoxById() > No parent Screen', id)\n                }\n            } else {\n                console.warn(\"getBoxById() > No screen or widget for inherited id \",id);\n            }\n        }\n        return null;\n    }\n\n    getParentScreen (widget, model) {\n        for (let id in model.screens) {\n            const screen = model.screens[id];\n            const i = screen.children.indexOf(widget.id);\n            if (i > -1) {\n                return screen;\n            }\n        }\n        return null;\n    }\n\n    getHoverScreen (box, model) {\n        if (!box.w) {\n            box.w = 0;\n        }\n        if (!box.h) {\n            box.h = 0;\n        }\n        for (let id in model.screens) {\n            const screen = model.screens[id]\n            if (this._isBoxChild(box, screen)) {\n                return screen;\n            }\n        }\n        return null;\n    }\n\n    _isBoxChild (obj, parent) {\n        if (\n            obj.x + obj.w < parent.x ||\n            parent.x + parent.w < obj.x ||\n            obj.y + obj.h < parent.y ||\n            parent.y + parent.h < obj.y\n        ) {\n            return false;\n        }\n        return true;\n    }\n\n    clone (obj) {\n        if (!obj) {\n            return null\n        }\n        let _s = JSON.stringify(obj)\n        return JSON.parse(_s)\n    }\n}\n\nexport default new ModelGeom()","class ModelResizer {\n\n    getRulerMoveUpdates (model, screen, ruler, oldV, newV) {\n        // console.debug('getRulerMoveUpdates', oldV, newV)\n        let result = {}\n        let resize = false\n        if (ruler.props && ruler.props.resize) {\n            resize = ruler.props.resize\n        }\n        try {\n            /**\n             * find all attached widgets\n             */\n            let children = screen.children;\n            for(let i=0; i< children.length; i++){\n                let id = children[i];\n                let widget = model.widgets[id];\n                if (widget) {\n                    if (ruler.type === 'y') {\n                        if (Math.abs(widget.y - (screen.y + oldV)) < 1) {\n                            if (resize) {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h + (oldV - newV),\n                                    x: widget.x,\n                                    y: screen.y + newV\n                                }\n                            } else {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h,\n                                    x: widget.x,\n                                    y: screen.y + newV\n                                }\n                            }\n                            \n                        }\n                        if (Math.abs((widget.y + widget.h) - (screen.y + oldV)) < 1) {\n                            if (resize) {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h - (oldV - newV),\n                                    x: widget.x,\n                                    y: widget.y\n                                }\n                            } else {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h,\n                                    x: widget.x,\n                                    y: screen.y + newV - widget.h\n                                }\n                            } \n                        }\n                    }\n                    if (ruler.type === 'x') {\n                        if (Math.abs(widget.x - (screen.x + oldV)) < 1) {\n                            if (resize) {\n                                result[id] = {\n                                    w: widget.w + (oldV - newV),\n                                    h: widget.h,\n                                    x: screen.x + newV,\n                                    y: widget.y\n                                }\n                            } else {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h,\n                                    x: screen.x + newV,\n                                    y: widget.y\n                                }\n                            }\n                        }\n                        if (Math.abs((widget.x + widget.w) - (screen.x + oldV)) < 1) {\n                            if (resize) {\n                                result[id] = {\n                                    w: widget.w - (oldV - newV),\n                                    h: widget.h,\n                                    x: widget.x,\n                                    y: widget.y\n                                }\n                            } else {\n                                result[id] = {\n                                    w: widget.w,\n                                    h: widget.h,\n                                    x: screen.x + newV - widget.w,\n                                    y: widget.y\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (e){\n            console.error('ModelResizer.getRulerMoveUpdates()', e)\n        }\n       \n        return result\n    }\n\n    /**\n    * Gets the new position for a group child\n    */\n    getGroupChildResizePosition (widget, oldBoundingBox, newBoundingBox, dif) {\n        console.warn('DEPRECATED! getGroupChildResizePosition()')\n        if (widget.props && widget.props.resize && this.oneIsTrue(widget.props.resize)) {       \n            return this.getResponsiveChildPosition(widget, oldBoundingBox, newBoundingBox, dif)\n        } else {\n            return this.getRelativeChildPosition(widget, oldBoundingBox, newBoundingBox, dif)\n        }\n    }\n\n    oneIsTrue (resize) {\n        return resize.up || resize.down || resize.left || resize.right || resize.fixedHorizontal || resize.fixedVertical\n    }\n\n    getResponsiveChildPosition (widget, oldBoundingBox, newBoundingBox, dif) {\n\n        let resize = widget.props.resize\n\n        var newModel = {\n            x: widget.x, \n            y: widget.y, \n            h: widget.h, \n            w: widget.w,\n            id : widget.id\n        };\n\n        var relPos = {\n            x: ((widget.x - oldBoundingBox.x) / oldBoundingBox.w) * 1.0,\n            y: ((widget.y - oldBoundingBox.y) / oldBoundingBox.h) * 1.0\n        };\n\n        let difLeft = widget.x - oldBoundingBox.x\n        let difRight = (oldBoundingBox.x + oldBoundingBox.w) - (widget.x + widget.w)\n        let difUp = widget.y - oldBoundingBox.y\n        let difDown = (oldBoundingBox.y + oldBoundingBox.h) - (widget.y + widget.h)\n       \n        /**\n         * Update Y Axis\n         */\n        if (resize.left && resize.right) {\n            newModel.x = newBoundingBox.x + difLeft\n            newModel.w = ((newBoundingBox.x + newBoundingBox.w) - difRight) - newModel.x\n        } else if (resize.left) {\n            if (!resize.fixedHorizontal) {\n                newModel.w = widget.w * dif.w\n            }\n            newModel.x = newBoundingBox.x + difLeft\n        } else if (resize.right) {\n            if (!resize.fixedHorizontal) {\n                newModel.w = widget.w * dif.w\n            }\n            newModel.x = (newBoundingBox.x + newBoundingBox.w) - (difRight + newModel.w)\n        } else {\n            newModel.x = newBoundingBox.x + newBoundingBox.w * relPos.x\n            if (!resize.fixedHorizontal) {\n                newModel.w = widget.w * dif.w\n            }\n        }\n\n        /**\n         * Update X Axis\n         */\n        if (resize.up && resize.down) {\n            newModel.y = newBoundingBox.y + difUp\n            newModel.h = ((newBoundingBox.y + newBoundingBox.h) - difDown) - newModel.y\n        } else if (resize.up) {\n            if (!resize.fixedVertical) {\n                newModel.h = widget.h * dif.h\n            }\n            newModel.y = newBoundingBox.y + difUp\n        } else if (resize.down) {\n            if (!resize.fixedVertical) {\n                newModel.h = widget.h * dif.h\n            }\n            newModel.y = (newBoundingBox.y + newBoundingBox.h) - (difDown + newModel.h)\n        } else {\n            newModel.y = newBoundingBox.y + newBoundingBox.h * relPos.y\n            if (!resize.fixedVertical) {\n                newModel.h = widget.h * dif.h\n            }\n        }\n\n        return newModel\n    }\n\n    /**\n     * This is the normal resizing! \n     */\n    getRelativeChildPosition (widget, oldGroup, newGroup, dif) {\n        /**\n         * get relative position of the widget in group\n         */\n        var relPos = {\n            x: ((widget.x - oldGroup.x) / oldGroup.w) * 1.0,\n            y: ((widget.y - oldGroup.y) / oldGroup.h) * 1.0\n        };\n\n        /**\n         * Resize rules are:\n         *\n         * 1) For x and y : if child box is 10 % away from border.\n         *    So new x must be also that amount away.\n         *\n         * 2) For w and h: just multiply with new width\n         */\n        var newPos = {\n            x: newGroup.x + newGroup.w * relPos.x,\n            y: newGroup.y + newGroup.h * relPos.y,\n            w: widget.w * dif.w,\n            h: widget.h * dif.h\n        };\n        return newPos;\n    }\n\n    getResizePosition (pos, model, type, resizeModel){\n        var newModel = {\n            x:model.x, \n            y: model.y, \n            h: model.h, \n            w: model.w,\n            id : model.id\n        };\n    \n        /**\n         * get min height for screens\n         */\n        var minH = (resizeModel.min) ? resizeModel.min.h : -1;\n        var minW = (resizeModel.min) ? resizeModel.min.w : -1;\n   \n        // FIXME: Do something like if (leftUp || leftDown).. else...\n\n        if(type==\"LeftUp\"){\n            if(minH < 0 || minH < (newModel.h - pos.y)){\n                newModel.h -= pos.y;\n                newModel.y += pos.y;\n            } else {\n                newModel.y += newModel.h - minH;\n                newModel.h = minH;\n            }\n            \n            if(minW < 0 || minW < (newModel.w - pos.x)){\n                newModel.w -= pos.x;\n                newModel.x += pos.x;\n            } else {\n                newModel.w += newModel.w - minW;\n                newModel.w = minW;\n            }\n        } else if(type==\"RightUp\"){\n            // up\n            if(minH < 0 || minH < (newModel.h - pos.y)){\n                newModel.h -= pos.y;\n                newModel.y += pos.y;\n            } else {\n                newModel.y += newModel.h - minH;\n                newModel.h = minH;\n            }\n            \n            // right\n            if(minW > 0){\n                newModel.w = Math.max(minW, newModel.w + pos.x);\n            } else {\n                newModel.w += pos.x;\n            }\n        } else if(type==\"RightDown\"){\n            // down\n            if(minH > 0){\n                newModel.h = Math.max(minH, newModel.h + pos.y);\n            } else {\n                newModel.h += pos.y;\n            }\n            \n            // right\n            if(minW > 0){\n                newModel.w = Math.max(minW, newModel.w + pos.x);\n            } else {\n                newModel.w += pos.x;\n            }\n        } else if(type==\"LeftDown\"){\n            // down\n            if(minH > 0){\n                newModel.h = Math.max(minH, newModel.h + pos.y);\n            } else {\n                newModel.h += pos.y;\n            }\n            \n            // left\n            if(minW < 0 || minW < (newModel.w - pos.x)){\n                newModel.w -= pos.x;\n                newModel.x += pos.x;\n            } else {\n                newModel.w += newModel.w - minW;\n                newModel.w = minW;\n            }\n        } else if(type==\"South\"){\n            // down\n            if(minH > 0){\n                // TODO: add here some logic for screen snapping...\n                newModel.h = Math.max(minH, newModel.h + pos.y);\n            } else {\n                newModel.h += pos.y;\n            }\n        } else if(type==\"North\"){\n            // up\n            if(minH < 0 || minH < (newModel.h - pos.y)){\n                newModel.h -= pos.y;\n                newModel.y += pos.y;\n            } else {\n                newModel.y += newModel.h - minH;\n                newModel.h = minH;\n            }\n        } else if(type==\"West\"){\n            // left\n            if(minW < 0 || minW < (newModel.w - pos.x)){\n                newModel.w -= pos.x;\n                newModel.x += pos.x;\n            } else {\n                newModel.w += newModel.w - minW;\n                newModel.w = minW;\n            }\n        } else if(type==\"East\"){\n            // right\n            if(minW > 0){\n                newModel.w = Math.max(minW, newModel.w + pos.x);\n            } else {\n                newModel.w += pos.x;\n            }\n        } else {\n            console.warn(type, \"Not supported\");\n        }\n        return newModel;\n    }\n}\nexport default new ModelResizer()\n","import lang from '../dojo/_base/lang'\nimport Logger from './Logger'\n\nclass ModelUtil {\n\n    constructor() {\n        this.designTokenCssProps = [\n            'color',\n            'fontSize',\n            'fontWeight',\n            'fontFamily',\n            'textAlign',\n            'letterSpacing',\n            'lineHeight',\n            'background',\n            'boxShadow',\n            'paddingTop',\n            'paddingBottom',\n            'paddingLeft',\n            'paddingRight',\n            'borderTopWidth',\n            'borderRightWidth',\n            'borderLeftWidth',\n            'borderBottomWidth',\n            'borderTopColor',\n            'borderBottomColor',\n            'borderRightColor',\n            'borderLeftColor'\n        ].map(t => 'dt-' + t)\n    }\n\n    \n    getAllGroupChildren (group, model) {\n        if (!group.children) {\n          return []\n        }\n        let result = group.children.slice(0)\n        if (group.groups) {\n          group.groups.forEach(subId => {\n            const sub = model.groups[subId]\n            if (sub) {\n              const children = this.getAllGroupChildren(sub, model)\n              result = result.concat(children)\n            } else {\n              console.warn('ModelUtil.getAllGroupChildren() No sub group', subId)\n            }\n          })\n        }\n        return result\n    }\n  \n\n    scaleToSelection(box, pos, type = '') {\n        // for top and bottom we scale by height, otherwise by width\n        if (type === 'North' || type === 'South') {\n            const scale = pos.h / box.h\n            const w =  Math.round(box.w * scale)\n            const offset = (type === 'LeftUp' || type === 'LeftDown') ? (w - pos.w) : 0\n            return {\n                x: pos.x - offset,\n                y: pos.y,\n                w: w,\n                h: pos.h\n            }\n        } else {\n            const scale = pos.w / box.w\n            const h =  Math.round(box.h * scale)\n            const offset = (type === 'LeftUp' || type === 'RightUp' )? (h - pos.h) : 0   \n            return {\n                x: pos.x,\n                y: pos.y - offset,\n                w: pos.w,\n                h: h\n            }\n        }\n    }\n\n    scaleToSelectionWidthOrHeight(box, pos, type = '') {\n        const difW = Math.abs(box.w - pos.w)\n        const difH = Math.abs(box.h - pos.h)\n        // Or should we just make for north and south the heigth scalling\n        if (difW > difH) {\n            const scale = pos.w / box.w\n            const h =  Math.round(box.h * scale)\n            const offset = (type === 'LeftUp' || type === 'RightUp' )? (h - pos.h) : 0   \n            return {\n                x: pos.x,\n                y: pos.y - offset,\n                w: pos.w,\n                h: h\n            }\n            \n        } else {\n            const scale = pos.h / box.h\n            const w =  Math.round(box.w * scale)\n            const offset = (type === 'LeftUp' || type === 'LeftDown') ? (w - pos.w) : 0\n            return {\n                x: pos.x - offset,\n                y: pos.y,\n                w: w,\n                h: pos.h\n            }\n        }\n    }\n\n    isLogicWidget(widget) {\n        return widget && (widget.type === 'LogicOr' || widget.type === \"Rest\" || widget.type === 'Script')\n    }\n\n    inlineAllTemplateVariants (model) {\n        // FIXME: For speedup during rendering, we could also inline all the \n        // templates\n        return model\n    }\n\n    inlineTemplateVariant (template, model) {\n        if (template.variantOf) {\n            let parent = model.templates[template.variantOf]\n            if (parent) {\n                // FIXME: we should be able to do this without copying the parent\n                const copy = lang.clone(parent)\n                this.mixinNewStyles(copy, template)\n                template.style = copy.style\n                template.hover = copy.hover\n                template.error = copy.error\n                template.active = copy.active\n                template.focus = copy.focus\n                return template\n            }\n        }\n        return template\n    }\n\n    inlineModelDesignTokens(model) {\n        /**\n         * This is quite costly. Can we do this smarter? Maybe we could do it in the\n         * RenderFactory (beawre of hover etc). Then we would have to just add here\n         * for all the reference design token the modified?\n         */\n        if (model.designtokens) {\n            for (let widgetID in model.widgets) {\n                let widget = model.widgets[widgetID]\n                this.inlineBoxDesignToken(widget, model)\n            }\n            for (let screenId in model.screens) {\n                let scrn = model.screens[screenId]\n                this.inlineBoxDesignToken(scrn, model)\n            }\n            /**\n             * FIXME Add tempaltes\n             */\n        }\n        return model\n    }\n\n    inlineBoxDesignToken(box, model) {\n        /**\n         * If the box is templates, we copy all the designtokens from the template\n         */\n        if (box && box.template && model.templates && model.templates[box.template]) {\n            let template = model.templates[box.template]\n            if (template.designtokens) {\n                /**\n                 * We could mix this in....\n                 */\n                box.designtokens = template.designtokens\n            }\n        }\n        if (box && box.designtokens) {\n            let designtokens = box.designtokens\n            for (let state in designtokens) {\n                if (!box[state]) {\n                    box[state] = {}\n                }\n                let stateTokens = designtokens[state]\n                for (let cssProp in stateTokens) {\n                    let designTokenId = stateTokens[cssProp]\n                    let designToken = model.designtokens[designTokenId]\n                    if (designToken) {\n                        if (designToken.isComplex) {\n                            box[state][cssProp] = designToken.value[cssProp]\n                        } else {\n                            box[state][cssProp] = designToken.value\n                        }\n                    } else {\n                        console.warn('ModelUtil.inlineBoxDesignToken() > NO token with id or no value:' + designTokenId, designToken)\n                    }\n                }\n            }\n        }\n        return box\n    }\n\n\n    updateTemplateModifies(model) {\n        /**\n         * We set the template modfied date, so in RenderFlow we \n         * can recognize that we have to update the widget.\n         */\n        if (model && model.templates) {\n            for (let widgetID in model.widgets) {\n                const widget = model.widgets[widgetID]\n                if (widget.template) {\n                    const t = model.templates[widget.template];\n                    if (t) {\n                        widget._templateModified = t.modified\n                    }\n                }\n            }\n        }\n        return model\n    }\n\n    inlineTemplateStyles(model) {\n        for (let widgetID in model.widgets) {\n            const widget = model.widgets[widgetID]\n            if (widget.template) {\n                let hover = this.getTemplatedStyle(widget, model, 'hover')\n                if (hover) {\n                    widget.hover = hover\n                }\n                let error = this.getTemplatedStyle(widget, model, 'error')\n                if (error) {\n                    widget.error = error\n                }\n                let focus = this.getTemplatedStyle(widget, model, 'focus')\n                if (focus) {\n                    widget.focus = focus\n                }\n                let active = this.getTemplatedStyle(widget, model, 'active')\n                if (active) {\n                    widget.active = active\n                }\n            }\n\n        }\n        return model\n    }\n    \n    getStyle (widget, model) {\n        if (widget.template) {\n          if (model.templates) {\n            const template = this.getMergedTemplate(widget.template, model);\n            if (template) {\n          \n              /**\n               * Merge in overwriten styles\n               */\n              const merged = lang.clone(template.style);\n              if (widget.style) {\n                for (let key in widget.style) {\n                   merged[key] = widget.style[key];\n                }\n              }\n              return merged;\n            } else {\n              console.warn(\"ModelUtil.getStyle() > No template found for widget\",widget.id, \" with template \",  widget.template);\n            }\n          }\n        }\n        return widget.style;\n    }\n\n    getMergedTemplate (templateId, model) {\n        const template = model.templates[templateId];\n        /**\n         * Since 4.0.60 templates can inherit other templates\n         */\n        if (template && template.variantOf) {\n            let parent = model.templates[template.variantOf];\n            if (parent) {\n                parent = lang.clone(parent)\n                this.mixinNewStyles(parent, template)\n                // all props are now from the parent now!! Should only be used\n                // to get the template style\n                return parent\n            }\n        }\n        return template\n    }\n\n\n    getTemplatedStyle(widget, model, prop = 'style') {\n        if (widget.template) {\n            if (model.templates) {\n                const template = this.getMergedTemplate(widget.template, model);\n                if (template && template[prop]) {\n                    /**\n                     * Merge in overwriten styles\n                     */\n                    const merged = lang.clone(template[prop])\n                    if (widget[prop]) {\n                        let props = widget[prop]\n                        for (var key in props) {\n                            merged[key] = props[key]\n                        }\n                    }\n                    return merged;\n                }\n            }\n        }\n        return widget[prop];\n    }\n\n    getCopiesOfTemplate (template, model) {\n        if (template.copyOf) {\n            if (model.templates[template.copyOf]) {\n                template = model.templates[template.copyOf]\n            }\n        }\n        return Object.values(model.templates).filter(t => t.copyOf === template.id)\n    } \n\n    getVariantesOfTemplate (template, model) {\n        if (template.variantOf) {\n            if (model.templates[template.variantOf]) {\n                template = model.templates[template.variantOf]\n            }\n        }\n        return Object.values(model.templates).filter(t => t.variantOf === template.id)\n    } \n\n    /**\n     * Create a minimal scalled version.\n     * \n     * FIXME: We could try to improve the rendering even more\n     * by utilizing some cache to avoid object creation.\n     * There are also some downstream bugs, where for instance the\n     * selection hold on to the old version if there was zooming.\n     */\n    createScalledModelFast(model, zoom, round = true) {\n\n        const zoomedModel = {\n            id: model.id, \n            screenSize: {},\n            grid: lang.clone(model.grid),\n            screens: {},\n            widgets: {},\n            groups: {},\n            lines: {},\n            designtokens: {},\n            templates: {}\n        }\n\n        zoomedModel.screenSize = this.getZoomedBoxFast(model.screenSize, zoom, zoom, round);\n\n        for (let id in model.widgets) {\n            const widget = model.widgets[id]\n            const zoomedWidget = this.getZoomedBoxFast(widget,zoom, zoom)\n            zoomedWidget.style = {\n                locked: widget?.style.locked\n            }\n            zoomedWidget.props = widget.props // this is ok, because edits will go through the controller\n            zoomedWidget.z = widget.z\n            zoomedWidget.type = widget.type\n            zoomedWidget.inheritedCopies = widget.inheritedCopies\n            zoomedWidget.copies = widget.copies\n            if (widget.inherited) {\n                zoomedWidget.inherited = widget.inherited\n                zoomedWidget.inheritedScreen = widget.inheritedScreen\n                zoomedWidget.masterScreen = widget.masterScreen\n            }\n    \n            zoomedModel.widgets[id] = zoomedWidget\n        }\n\n        for (let id in model.screens) {\n            const scrn = model.screens[id]\n            const zoomedScreen = this.getZoomedBoxFast(scrn,zoom,zoom)\n            zoomedScreen.segment = scrn.segment\n            zoomedScreen.children = scrn.children.slice()\n            zoomedScreen.rulers = lang.clone(scrn.rulers)\n            zoomedScreen.style = {\n                locked: scrn?.style.locked\n            }\n            zoomedScreen.props = {}    \n            zoomedModel.screens[id] = zoomedScreen  \n        }\n\n        if (model.templates) {\n            zoomedModel.templates = model.templates\n            // for (let id in model.templates) {\n            //     const template = model.templates[id]\n            //     const zoomedTemplate = this.getZoomedBoxFast(template,zoom, zoom)\n            //     console.debug(template, zoomedTemplate)\n            //     zoomedTemplate.style = {\n            //         locked: template?.style.locked\n            //     }\n            //     zoomedTemplate.props = template.props // this is ok, because edits will go through the controller\n            //     zoomedTemplate.z = template.z\n            //     zoomedTemplate.type = template.type\n            //     zoomedModel.templates[id] = zoomedTemplate\n            // }\n        }\n\n        for (let id in model.lines) {\n            const line = model.lines[id];\n            const zoomedLine = {\n                id: line.id,\n                from: line.from,\n                to: line.to,\n                event: line.event,\n                points: []\n            }\n            for (let i = 0; i < line.points.length; i++) {\n                const zoomedPoint = this.getZoomedPointFast(line.points[i], zoom, zoom, round);\n                zoomedLine.points.push(zoomedPoint)\n            }\n            zoomedModel.lines[id] = zoomedLine\n        }\n\n        zoomedModel.groups = model.groups\n\n        return zoomedModel;\n    }\n\n    getZoomedPointFast(box, zoomX, zoomY) {\n        const result = {\n            x: box.x * zoomX,\n            y: box.y * zoomY,\n            isZoomed: true\n        }\n        return result;\n    }\n\n    getZoomedBoxFast(box, zoomX, zoomY) {\n        const result = {\n            id: box.id,\n            name: box.name,\n            x: box.x * zoomX,\n            y: box.y * zoomY,\n            w: box.w * zoomX,\n            h: box.h * zoomY,\n            isZoomed: true\n        }\n\n        if (box.min) {\n            result.min = {\n                h: box.min.h * zoomY,\n                w: box.min.w * zoomX\n            }\n        }\n        box.isZoomed = true;\n        return result;\n    }\n   \n\n    createScalledModel(model, zoom, round = true) {\n        console.error('DEPRECATED: ModelUtil.createScalledModel()')\n\n        if (!round) {\n            Logger.log(1, 'ModelUtil.createScalledModel() > do not round!')\n        }\n\n        //console.time('createScalledModel')\n        const zoomedModel = lang.clone(model);\n        //console.timeEnd('createScalledModel')\n        zoomedModel.isZoomed = true;\n\n        this.getZoomedBox(zoomedModel.screenSize, zoom, zoom, round);\n\n        for (let id in zoomedModel.widgets) {\n            this.getZoomedBox(zoomedModel.widgets[id], zoom, zoom, round);\n        }\n\n        for (let id in zoomedModel.screens) {\n            const zoomedScreen = this.getZoomedBox(\n                zoomedModel.screens[id],\n                zoom,\n                zoom,\n                round\n            );\n\n            /**\n             * This has a tiny tiny bug that makes copy of the same screen jump as x and y and rounded()\n             * To fix this, we should take the relative and x and y in the parent and round that...\n             *\n             * scalledWidget.x = scalledScreen.x + (orgWidget.x - orgScreen.x)*zoomX\n             *\n             * As an alternative we could stop using Math.round() ...\n             */\n            for (let i = 0; i < zoomedScreen.children.length; i++) {\n                const wid = zoomedScreen.children[i];\n                const zoomWidget = zoomedModel.widgets[wid];\n                const orgWidget = model.widgets[wid];\n                if (orgWidget) {\n                    /**\n                     * When we copy a screen we might not have the org widget yet\n                     */\n                    const orgScreen = model.screens[zoomedScreen.id];\n                    const difX = this.getZoomed(orgWidget.x - orgScreen.x, zoom, round);\n                    const difY = this.getZoomed(orgWidget.y - orgScreen.y, zoom, round);\n                    if (orgWidget.parentWidget) {\n                        if (zoomWidget.x >= 0) {\n                            zoomWidget.x = zoomedScreen.x + difX;\n                        }\n                        if (zoomWidget.y >= 0) {\n                            zoomWidget.y = zoomedScreen.y + difY;\n                        }\n                    } else {\n                        zoomWidget.x = zoomedScreen.x + difX;\n                        zoomWidget.y = zoomedScreen.y + difY;\n                    }\n                }\n            }\n        }\n\n        for (let id in zoomedModel.lines) {\n            let line = zoomedModel.lines[id];\n            for (let i = 0; i < line.points.length; i++) {\n                this.getZoomedBox(line.points[i], zoom, zoom, round);\n            }\n        }\n\n        return zoomedModel;\n    }\n\n\n    getZoomedBox(box, zoomX, zoomY, round = true) {\n        if (box.x) {\n            box.x = this.getZoomed(box.x, zoomX, round);\n        }\n\n        if (box.y) {\n            box.y = this.getZoomed(box.y, zoomY, round);\n        }\n        if (box.w) {\n            box.w = this.getZoomedCeil(box.w, zoomX, round);\n        }\n        if (box.h) {\n            box.h = this.getZoomedCeil(box.h, zoomY, round);\n        }\n        if (box.min) {\n            box.min.h = this.getZoomed(box.min.h, zoomY, round);\n            box.min.w = this.getZoomed(box.min.w, zoomX, round);\n        }\n        box.isZoomed = true;\n        return box;\n    }\n  \n    getZoomed(v, zoom, round = true) {\n        if (round) {\n            return Math.round(v * zoom);\n        }\n        return v * zoom\n    }\n\n    getZoomedCeil(v, zoom, round = true) {\n        if (round) {\n            return Math.ceil(v * zoom);\n        }\n        return v * zoom\n    }\n    \n\n    updateInheritedRefs(model) {\n        for (let screenId in model.screens) {\n            const scrn = model.screens[screenId]\n            /**  \n             * We need to update master refs only for screens\n             * that have a master\n             */\n            if (scrn.parents && scrn.parents.length > 0) {\n                this.updateErrorLabelsInScreen(scrn, model)\n            }\n\n        }\n        return model\n    }\n\n    updateErrorLabelsInScreen(scrn, model) {\n        if (!scrn.children) {\n            return\n        }\n        scrn.children.forEach(id => {\n            const widget = model.widgets[id]\n            /**\n             * Inherited input widgets might have errorLabels attached. These will\n             * point to the ids in the master screen and need to be updated.\n             */\n            if (widget && widget.inherited) {\n                if (widget.props && widget.props.refs) {\n                    const errorLabels = widget.props.refs.errorLabels\n                    if (errorLabels) {\n                        /**\n                         * Update all error labels by adding the current screen id\n                         */\n                        const inheritedErrorLabels = errorLabels.map(l => l + '@' + screen.id)\n                        widget.props.refs.errorLabels = inheritedErrorLabels\n                    }\n                }\n            }\n        })\n    }\n\n    setMergedTemplateStyle(widget, template, mode) {\n        if (template[mode]) {\n            if (!widget[mode]) {\n                widget[mode] = {}\n            }\n            let style = template[mode]\n            for (let key in style) {\n                if (widget[mode][key] === undefined) {\n                    widget[mode][key] = style[key]\n                }\n            }\n        }\n    }\n\n    updateTemplateStyle(widget, template, mode) {\n        // copy all widget style back to template\n        // and reset template\n        if (widget[mode]) {\n\t\t\tconst style = widget[mode]\n\t\t\tif (!template[mode]) {\n\t\t\t\ttemplate[mode] = {}\n\t\t\t}\n\t\t\tfor (let key in style) {\n\t\t\t\tconst value = style[key]\n\t\t\t\ttemplate[mode][key] = value\n\t\t\t}\n\t\t\twidget[mode] = {};\n\t\t}\n    }\n\n    setStylesNotInTemplate(widget, template, mode) {\n        if (widget[mode]) {\n            let result = {}\n            if (widget[mode] && template[mode]) {\n                let widgetStyle = widget[mode]\n                let templateStyle = template[mode]\n                for (let key in widgetStyle) {\n                    if (templateStyle[key] !== widgetStyle[key]) {\n                        result[key] = widgetStyle[key]\n                    }\n                }\n            }\n            widget[mode] = result\n        }\n\t}\n\n    getViewModeStyle (widget, model, widgetViewMode) {\n     \n        // we get the default style. This method\n\t\t// will take the template and mix in \n\t\t// the nornal \"style\" overwrites\n\t\tconst normal = this.getTemplatedStyle(widget, model, 'style');\n        const mixed = lang.clone(normal);\n\n        // if we have specific overwrite in the template\n        // for the given widgetViewMode, we mix this in and\n        // overwrite the values\n        if (widget.template && model.templates[widget.template]) {\n            /**\n             * Since 4.0.60 we need to get potentially also a \n             * check variants\n             */\n            const template = this.getMergedTemplate(widget.template, model)\n            if (template && template[widgetViewMode]) {\n                const templateStyle = template[widgetViewMode]\n                for (let key in templateStyle) {\n                    mixed[key] = templateStyle[key];\n                }\n            }\n        }\n        // last we mix in values that are defined \n        // in the widget\n        if ( widget[widgetViewMode]) {\n            const widgetStyle = widget[widgetViewMode];\n            for (let key in widgetStyle){\n                mixed[key] = widgetStyle[key];\n            }\n        }\n        \n        return mixed;\n    }\n\n    getCanvasWidgets (model) {\n        const result = []\n        const widgetsOnScreens = {}\n        Object.values(model.screens).forEach(s => {\n            s.children.forEach(id => {\n                widgetsOnScreens[id] = true\n            })\n        })\n        Object.values(model.widgets).forEach(w => {\n            if (!widgetsOnScreens[w.id]) {\n                result.push(w)\n            }\n        })\n        return result\n    }\n\n\n    getWidgetsByTemplate(templateId, model) {\n        let result = []\n        for (let widgetID in model.widgets) {\n            let widget = model.widgets[widgetID]\n            if (widget.template === templateId) {\n                result.push(widget)\n            }\n        }\n        return result\n    }\n\n    getGroupsByTemplate(templateId, model) {\n        let result = []\n        for (let groupID in model.groups) {\n            let group = model.groups[groupID]\n            if (group.template === templateId) {\n                result.push(group)\n            }\n        }\n        return result\n    }\n\n    mixin (target, source) {\n        const result = lang.clone(target)\n        for (let key in source) {\n            result[key] = source[key]\n        }\n        return result\n    }\n\n    mixinNewStyles (target, source) {\n\t\ttarget.style = this.mixin(target.style, source.style);\n\n\t\tif (target.hover) {\n\t\t\ttarget.hover = this.mixin(target.hover, source.hover);\n\t\t}\n\t\tif (target.error) {\n\t\t\ttarget.error = this.mixin(target.error, source.error);\n\t\t}\n\t\tif (target.active) {\n\t\t\ttarget.active = this.mixin(target.active, source.active);\n\t\t}\n\t\tif (target.focus) {\n\t\t\ttarget.focus = this.mixin(target.focus, source.focus);\n\t\t}\n\t\tif (target.designtokens) {\n\t\t\ttarget.designtokens = lang.clone(target.designtokens);\n\t\t}\n\t}\n\n    getParentGroup(model, widgetID) {\n\n        if (model.groups) {\n            for (let id in model.groups) {\n                const group = model.groups[id];\n                const i = group.children.indexOf(widgetID);\n                if (i > -1) {\n                    return group;\n                }\n                /**\n                 * Since 2.13 we have subgroups and check this too\n                 */\n                if (group.groups) {\n                    let i = group.groups.indexOf(widgetID);\n                    if (i > -1) {\n                        return group;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    getArrayFromObject(obj, key) {\n        const result = [];\n        for (let i in obj) {\n            const item = obj[i];\n            if (key) {\n                item[key] = i;\n            }\n            result.push(item);\n        }\n        return result;\n    }\n\n\n    getObjectFromArray (list, key) {\n        const result = {};\n        for (let i = 0; i < list.length; i++) {\n            const item = list[i];\n            const value = item[key];\n          result[value] = item;\n        }\n        return result;\n    }\n  \n    getZValuesForScreen (model, screenID) {\n\t\tconst result = {};\n\t\tconst screen = model.screens[screenID];\n\t\tif (screen) {\n\t\t\tfor (let i=0; i < screen.children.length; i++){\n\t\t\t\tconst widgetID = screen.children[i];\n\t\t\t\tconst widget = model.widgets[widgetID];\n\t\t\t\tif (widget) {\n\t\t\t\t\tresult[widgetID] = widget.z;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// for stuff on canvas we need to get all\n\t\t\tconst canvasChildren = this.getCanvasWidgets(model)\n\t\t\tcanvasChildren.forEach(widget => {\n\t\t\t\tresult[widget.id] = widget.z;\n\t\t\t})\n\t\t}\n\t\treturn result;\n\t}\n  \n\n}\n\nexport default new ModelUtil()","const labelStyle = {\n\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#333333\",\n    \"boxShadow\": null,\n    \"background\": null\n}\n\nconst buttonStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#FFFFFF\",\n    \"paddingTop\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 0,\n    \"paddingRight\": 0,\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"verticalAlign\": \"middle\",\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#333333\",\n    \"boxShadow\": null\n}\n\nconst containerStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#333333\",\n    \"paddingTop\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 0,\n    \"paddingRight\": 0,\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"verticalAlign\": \"middle\",\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#ffffff\",\n    \"boxShadow\": null\n}\n\nconst defaultStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#333333\",\n    \"paddingTop\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 0,\n    \"paddingRight\": 0,\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"verticalAlign\": \"middle\",\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#ffffff\",\n    \"boxShadow\": null\n}\n\nconst defaultImage = {\n    \"borderTopRightRadius\": 0,\n    \"borderTopLeftRadius\": 0,\n    \"borderBottomRightRadius\": 0,\n    \"borderBottomLeftRadius\": 0,\n    \"borderTopWidth\": 0,\n    \"borderBottomWidth\": 0,\n    \"borderRightWidth\": 0,\n    \"borderLeftWidth\": 0,\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"backgroundImage\": null\n}\n\n\n\nexport const screenStyle = {\n    \"background\": \"#FFFFFF\",\n}\n\nconst textboxStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"color\": \"#333333\",\n    \"paddingTop\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 4,\n    \"paddingRight\": 4,\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"verticalAlign\": \"middle\",\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#FFFFFF\",\n    \"boxShadow\": null\n}\n\n\nconst tableStyle = {\n    \"fontSize\": 14,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"center\",\n    \"letterSpacing\": 0,\n    \"lineHeight\": 1,\n    \"borderTopRightRadius\": 0,\n    \"borderTopLeftRadius\": 0,\n    \"borderBottomRightRadius\": 0,\n    \"borderBottomLeftRadius\": 0,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#fff\",\n    \"color\": \"#333333\",\n    \"paddingTop\": 10,\n    \"paddingBottom\": 10,\n    \"paddingLeft\": 5,\n    \"paddingRight\": 5,\n    \"headerFontWeight\": \"800\",\n    \"headerBackground\": \"#333333\",\n    \"headerSticky\": true,\n    \"headerColor\": \"#fff\",\n    \"checkBox\": false,\n    \"checkBoxHookColor\": \"#333333\",\n    \"checkBoxBackground\": \"#ffffff\",\n    \"checkBoxBorderColor\": \"#333333\",\n    \"checkBoxBorderRadius\": 2,\n    \"checkBoxBorderWidth\": 1\n}\n\nconst dropdownStyle = {\n    \"borderTopRightRadius\": 3,\n    \"borderTopLeftRadius\": 3,\n    \"borderBottomRightRadius\": 3,\n    \"borderBottomLeftRadius\": 3,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#ffffff\",\n    \"popupBackground\": \"#ffffff\",\n    \"popupColor\": \"#333333\",\n    \"color\": \"#333333\",\n    \"fontSize\": 18,\n    \"fontFamily\": \"Helvetica Neue,Helvetica,Arial,sans-serif\",\n    \"textAlign\": \"left\",\n    \"paddingTop\": 5,\n    \"paddingBottom\": 5,\n    \"paddingLeft\": 6,\n    \"paddingRight\": 6,\n    \"selectedOptionColor\": \"#333333\",\n    \"selectedOptionBackground\": \"#f2f2f2\"\n}\n\nconst checkboxStyle = {\n    \"borderTopRightRadius\": 5,\n    \"borderTopLeftRadius\": 5,\n    \"borderBottomRightRadius\": 5,\n    \"borderBottomLeftRadius\": 5,\n    \"borderTopWidth\": 1,\n    \"borderBottomWidth\": 1,\n    \"borderRightWidth\": 1,\n    \"borderLeftWidth\": 1,\n    \"borderTopColor\": \"#333333\",\n    \"borderBottomColor\": \"#333333\",\n    \"borderRightColor\": \"#333333\",\n    \"borderLeftColor\": \"#333333\",\n    \"background\": \"#ffffff\",\n    \"color\": \"#333333\",\n    \"colorButton\": \"#333333\"\n}\n\nconst radioBoxStyle = checkboxStyle\n\n\nconst defaultStyleKeys = [\n    'borderBottomLeftRadius',\n    'borderBottomRightRadius',\n    'borderTopLeftRadius',\n    'borderTopRightRadius',\n    'borderBottomWidth',\n    'borderRightWidth',\n    'borderLeftWidth',\n    'borderTopWidth',\n\n    'borderTopStyle',\n    'borderBottomStyle',\n    'borderRightStyle',\n    'borderLeftStyle',\n\n    'borderTopColor',\n    'borderRightColor',\n    'borderBottomColor',\n    'borderLeftColor',\n\n    'textAlign',\n    \"verticalAlign\"\n]\n\nconst paddingKeys = [\n    'paddingTop',\n    'paddingBottom',\n    'paddingRight',\n    'paddingLeft',\n]\n\nconst pixelStyles = new Set([\n    'borderBottomLeftRadius',\n    'borderBottomRightRadius',\n    'borderTopLeftRadius',\n    'borderTopRightRadius',\n    \n    'borderBottomWidth',\n    'borderRightWidth',\n    'borderLeftWidth',\n    'borderTopWidth',\n\n    'paddingTop',\n    'paddingBottom',\n    'paddingRight',\n    'paddingLeft',\n\n    'fontSize',\n])\n\nexport function getDefaultStyle() {\n\n    return {\n        Label: labelStyle,\n        Container: containerStyle,\n        Button: buttonStyle,\n        Default: defaultStyle,\n        Screen: screenStyle,\n        TextBox: textboxStyle,\n        Table: tableStyle,\n        Image: defaultImage,\n        DropDown: dropdownStyle,\n        CheckBox: checkboxStyle,\n        RadioBox: radioBoxStyle\n    }\n\n}\n\nexport function getCustomStyle(app, topN = 2) {\n    const counts = getCustomStyleCounts(app, topN)\n\n    return {\n        Label: countToStyle(counts.Label),\n        Container: countToStyle(counts.Container),\n        Button: countToStyle(counts.Button),\n        Default: countToStyle(counts.Default),\n        Screen: countToStyle(counts.Screen),\n        TextBox: countToStyle(counts.TextBox),\n        Table: countToStyle(counts.Table),\n        Image: countToStyle(counts.Image),\n        DropDown: countToStyle(counts.DropDown),\n        CheckBox: countToStyle(counts.CheckBox),\n        RadioBox: countToStyle(counts.RadioBox),\n    }\n}\n\nfunction countToStyle(counts) {\n    const result = {}\n\n    for (let key in counts) {\n        const values = counts[key]\n        if (values.length > 0) {\n            let value = values[0]\n            if (pixelStyles.has(key)) {\n                value = value * 1\n            }\n            result[key] = value\n        }\n    }\n    return result\n}\n\nexport function getCustomStyleCounts(app, topN = 2) {\n    const result = {\n    }\n   \n    result.Label = getMostUsedStyles(getLabels(app), ['color'], topN)\n    result.Container = getMostUsedStyles(getContainer(app), ['background', ...defaultStyleKeys], topN)\n    result.Button = getMostUsedStyles(getButtons(app), ['background', 'color',... defaultStyleKeys], topN)\n    result.Default = getMostUsedStyles(Object.values(app.widgets), ['color', 'background', ...defaultStyleKeys], topN)\n    result.Screen = getMostUsedStyles(Object.values(app.screens), ['background'], topN)\n    result.TextBox = getMostUsedStyles(getInputs(app), ['background', 'color', ...defaultStyleKeys, ...paddingKeys], topN)\n    result.Table = getMostUsedStyles(getTable(app), ['background', 'color', 'headerBackground', 'headerColor', ...defaultStyleKeys], topN) \n    result.CheckBox = getMostUsedStyles(getCheckBox(app), ['color', 'colorButton', 'background', ...defaultStyleKeys], topN)\n    result.RadioBox = getMostUsedStyles(getRadioBox(app), ['color', 'colorButton', 'background', ...defaultStyleKeys], topN)\n    result.DropDown = getMostUsedStyles(getDropDown(app), ['color', 'background', ...defaultStyleKeys], topN)\n    result.Image = getMostUsedStyles(getImage(app), [], topN)\n\n    return result\n}\n\nfunction getImage(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'Image'\n    })\n}\n\nfunction getDropDown(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'DropDown'\n    })\n}\n\nfunction getCheckBox(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'CheckBox' || widget.type === 'LabeledCheckBox'\n    })\n}\n\nfunction getRadioBox(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'RadioBox' || widget.type === 'LabeledRadioBox'\n    })\n}\n\nfunction getTable(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'Table'\n    })\n}\n\nexport function getButtons(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return isButton(widget)\n    })\n}\n\nexport function isButton(widget) {\n    return widget.type === 'Button'\n        && widget.props?.label\n        && between(widget.w, 10, 200)\n        && between(widget.h, 10, 100)\n}\n\n\nfunction getContainer(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return isContainer(widget)\n    })\n}\n\nexport function isContainer(widget) {\n    return widget.type === 'Button'\n        && !widget.props?.label\n        && widget.w > 200\n        && widget.h > 200\n}\n\nfunction getLabels(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'Label'\n    })\n}\n\n\nfunction getInputs(app) {\n    return Object.values(app.widgets).filter(widget => {\n        return widget.type === 'TextBox'\n    })\n}\n\nfunction between(v, min, max) {\n    return v >= min && v <= max\n}\n\nfunction getMostUsedStyles(elements, keys, topN) {\n    const counts = {}\n    elements.forEach(e => {\n        const style = e.style\n        keys.forEach(key => {\n            const value = style[key]\n            if (value) {\n                if (!counts[key]) {\n                    counts[key] = {}\n                }\n                if (!counts[key][value]) {\n                    counts[key][value] = 0\n                }\n\n                counts[key][value]++\n            }\n\n        })\n    })\n\n    const result = {}\n    keys.forEach(key => {\n        const keyCounts = counts[key]\n        if (keyCounts) {\n            const pairs = Object.keys(keyCounts).map(key => {\n                return { key: key, value: keyCounts[key] }\n            })\n            pairs.sort((a, b) => {\n                return b.value - a.value\n            })\n            result[key] = pairs.slice(0, Math.min(topN, pairs.length)).map(e => e.key)\n        }\n\n    })\n    return result\n}\n","export default class Evented {\n\n    constructor() {\n        this._dojoWidgetEventListener = []\n        this._dojoOwnListeners = []\n        this._dojoWidgetEventListenerIds = 0\n    }\n\n    stopEvent(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    }\n\n    own(listener) {\n        if (!listener){\n            console.warn('Evented.own() > passed null', new Error().stack)\n        } else {\n            this._dojoOwnListeners.push(listener)\n        }\n    }\n\n    cleanUpEvented() {\n        this._dojoCleanUpEvent()\n        this._dojoCleanUpOwn()\n    }\n\n    emit(event, value1, value2, value3, value4, value5) {\n        if (this.$emit) {\n            this.$emit(event, value1, value2, value3, value4, value5);\n        }\n        if (this._dojoWidgetEventListener[event]) {\n            let listeners = this._dojoWidgetEventListener[event];\n            listeners.forEach(listener => {\n                listener.callback(value1, value2, value3, value4, value5);\n            });\n        }\n    }\n\n    _dojoCleanUpEvent() {\n        for (let key in this._dojoWidgetEventListener){\n            let listeners = this._dojoWidgetEventListener[key]\n            listeners.forEach(l => {\n                try {\n                    l.remove();\n                } catch (e) {\n                console.error(\"DojoWidget._dojoCleanUpOwn() >> ERROR\", e);\n                }\n            })\n        }\n    }\n\n    _dojoCleanUpOwn() {\n        this._dojoOwnListeners.forEach(l => {\n            try {\n                l.remove();\n            } catch (e) {\n                console.error(\"Evented._dojoCleanUpOwn() >> ERROR\", e);\n            }\n        });\n    }\n\n    on(event, callback) {\n        if (!this._dojoWidgetEventListener[event]) {\n            this._dojoWidgetEventListener[event] = [];\n        }\n        let id = this._dojoWidgetEventListenerIds++\n        let listener = {\n            'event': event,\n            'callback': callback,\n            'id': id,\n            'remove': () => {\n                this._removeListener(event, id)\n            }\n        }\n        this._dojoWidgetEventListener[event].push(listener);\n        return listener\n    }\n\n    _removeListener(event, id) {\n        if (this._dojoWidgetEventListener[event]) {\n            this._dojoWidgetEventListener[event] = this._dojoWidgetEventListener[event].filter(l => l.id !== id)\n        }\n    }\n}","class lang {\n\n    stopEvent(e) {        \n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n            e.preventDefault();\n        }    \n    }\n\n    hitch (scope, method){\n        if(arguments.length > 2){\n            return this._hitchArgs.apply(scope, arguments); // Function\n        }\n        if(!method){\n            method = scope;\n            scope = null;\n        }\n        if(this.isString(method)){\n            if(!scope[method]){ throw(['lang.hitch: scope[\"', method, '\"] is null (scope=\"', scope, '\")'].join('')); }\n            return function(){ return scope[method].apply(scope, arguments || []); }; // Function\n        }\n        return !scope ? method : function(){ return method.apply(scope, arguments || []); }; // Function\n    }\n\n    _hitchArgs (scope, method1){\n        var pre = _toArray(arguments, 2);\n        var named = isString(method1);\n        return function(){\n            var args = _toArray(arguments);\n            var f = named ? (scope)[method1] : method1;\n            return f && f.apply(scope || this, pre.concat(args));\n        };\n    }\n\n    isString (it) {\n        return (typeof it == \"string\" || it instanceof String); // Boolean\n    }\n\n    isArray (it) {\n        return it && (it instanceof Array); // Boolean\n    }\n\n    isObject (it) {\n        return it !== undefined &&\n            (it === null || typeof it == \"object\" || Array.isArray(it)); // Boolean\n    }\n\n    clone (obj) {\n        if (!obj) {\n            return null\n        }\n        let _s = JSON.stringify(obj)\n        return JSON.parse(_s)\n    }\n\n\n    _mixin (dest, source, copyFunc){\n        var name, s, empty = {};\n        for(name in source){\n            s = source[name];\n            if(!(name in dest) || (dest[name] !== s && (!(name in empty) || empty[name] !== s))){\n                dest[name] = copyFunc ? copyFunc(s) : s;\n            }\n        }\n        return dest; // Object\n    }\n\n    mixin (dest){\n        if(!dest){ dest = {}; }\n        for(var i = 1, l = arguments.length; i < l; i++){\n            this._mixin(dest, arguments[i]);\n        }\n        return dest; // Object\n    }\n}\n\nfunction _toArray (obj, offset) {\n    //return (startWith||[]).concat(Array.prototype.slice.call(obj, offset||0));\n    var arr = [];\n    for(var x = offset || 0; x < obj.length; x++){\n        arr.push(obj[x]);\n    }\n    return arr;\n}\n\nfunction isString (it) {\n    // summary:\n    //\t\tReturn true if it is a String\n    // it: anything\n    //\t\tItem to test.\n    return (typeof it == \"string\" || it instanceof String); // Boolean\n}\nexport default new lang()","class css {\n\n    toggle (node, cls) {\n        if (node && node.toLowerCase) {\n            node = document.getElementById(node)\n        }\n        if (node) {\n            if (this.contains(node, cls)) {\n                this.remove(node, cls)\n            } else {\n                this.add(node, cls)\n            }\n        }\n    }\n\n    add (node, cls) {\n        if (cls === undefined || cls === null) {\n            return\n        }\n        if (node && node.toLowerCase) {\n            node = document.getElementById(node)\n          }\n          if (node) {\n              cls = cls.trim()\n              let classes = node.className.split(' ')\n              if (classes.indexOf(cls) < 0) {\n                classes.push(cls)\n              }\n              node.className = classes.join(' ')\n          }\n    }\n\n    contains (node, cls) {\n        /** SVG nodes have no string... */\n        if (node.className && node.className.split) {\n            let classes = node.className.split(' ')\n            return classes.indexOf(cls) >= 0\n        }\n        return false\n    }\n\n    remove (node, cls) {\n        if (cls === undefined || cls === null) {\n            return\n        }\n        if (node && node.toLowerCase) {\n            node = document.getElementById(node)\n        }\n        if (node) {\n            let remove = cls.split(' ')\n            let classes = node.className.split(' ')\n            let result = classes.filter(c => remove.indexOf(c) < 0)\n            node.className = result.join(' ')\n        }\n    }\n}\nexport default new css()","class win {\n\n    constructor () {\n        this.doc =  document\n    }\n\n    body () {\n        return document.getElementsByTagName(\"BODY\")[0]\n    }\n\n    getBox (doc) {\n        doc = doc || window.document;\n        var scrollRoot = doc.documentElement\n        var w = 0\n        var h = 0\n        w = scrollRoot.clientWidth;\n        h = scrollRoot.clientHeight;\n        return {\n            w: w,\n            h: h\n        };\n    }\n}\nexport default new win()","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MatcMainCntr\",attrs:{\"id\":\"app\"}},[_c('router-view'),_c('div',{ref:\"message\",staticClass:\"vommondMessage\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\" class=\"MatcMainCntr\">\n    <router-view/>\n    <div class=\"vommondMessage\" ref=\"message\">\n    </div>\n  </div>\n</template>\n\n<style>\n\t@import url(\"./style/css/legacy.css\");\n</style>\n<script>\nimport css from 'dojo/css'\nimport win from 'dojo/win'\nimport Services from 'services/Services'\n\nexport default {\n  methods: {\n    showSuccess (msg){\n\t\tif (this.$refs.message){\n\t\t\t\tcss.add(this.$refs.message, \"vommondMessageSuccess\");\n\t\t\t\tcss.remove(this.$refs.message, \"vommondMessageError vommondMessageHint\");\n\t\t\t\tthis.$refs.message.innerHTML = msg;\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tthis.hideMessage()\n\t\t\t\t},2000);\n\t\t\t}\n\t\t},\n\n\tshowError (msg){\n\t\tif (this.message){\n\t\t\tcss.add(this.$refs.message, \"vommondMessageError\");\n\t\t\tcss.remove(this.$refs.message, \"vommondMessageSuccess vommondMessageHint\");\n\t\t\tthis.$refs.message.innerHTML = msg;\n\t\t\tsetTimeout( () => {\n\t\t\t\tthis.hideMessage()\n\t\t\t},4000);\n\t\t}\n\t},\n\n\tshowHint (msg){\n\t\tif (this.$refs.message){\n\t\t\tcss.add(this.$refs.message, \"vommondMessageHint\");\n\t\t\tcss.remove(this.$refs.message, \"vommondMessageSuccess vommondMessageSuccess\");\n\t\t\tthis.$refs.message.innerHTML = msg;\n\t\t\tsetTimeout( () => {\n\t\t\t\tthis.hideMessage()\n\t\t\t},4000);\n\t\t}\n\t},\n\n\thideMessage (){\n\t\tcss.remove(this.$refs.message, \"vommondMessageSuccess vommondMessageError vommondMessageHint\");\n\t},\n\n\thandler4xx (url, res) {\n\t\tif (res.status === 401) {\n\t\t\talert('Something is wrong. Please login again!')\n\t\t\tServices.getUserService().logout()\n\t\t\tthis.$router.push('/')\n\t\t\tthis.$root.$emit('MatcLogout', Services.getUserService().GUEST)\n\t\t}\n\t\tif (res.tokenTimedOut) {\n\t\t\talert('Your session has expired. Please login again')\n\t\t\tServices.getUserService().logout()\n\t\t\tthis.$router.push('/')\n\t\t\tthis.$root.$emit('MatcLogout', Services.getUserService().GUEST)\n\t\t}\n\t},\n\tinitNLS () {\n\t\tlet language = Services.getUserService().getLanguage()\n\t\tthis.$root.$i18n.locale = language\n\t}\n  },\n  async mounted () {\n\tServices.setErrorHandler((url, res) => {\n\t\tthis.handler4xx(url, res)\n\t})\n\tthis.$root.$on('Success', (msg) => {\n\t\tthis.showSuccess(msg)\n\t})\n\tthis.$root.$on('Error', (msg) => {\n\t\tthis.showError(msg)\n\t})\n\tthis.$root.$on('Hint', (msg) => {\n\t\tthis.showHint(msg)\n\t})\n\tthis.$root.$on('UserLogin', (user) => {\n\t\tServices.getUserService().setUser(user)\n\t})\n\tcss.remove(win.body(), 'MatcPublic')\n\tthis.initNLS()\n  }\n}\n</script>\n\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3e392988&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\n\nlet matcRoutes = []\n\nmatcRoutes.push({path:'my-account.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/user/Account.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'404.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/404.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'logout.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/LogoutPage.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'help.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/Help.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'help/:topic.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/Help.vue'), meta: {hasHeader: true}})\nmatcRoutes.push({path:'help/:topic/:subtopic.html', component: () => import(/* webpackChunkName: \"about\" */ 'views/Help.vue'), meta: {hasHeader: true}})\n\n// Studio\nmatcRoutes.push({path:'', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'),  meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/my-apps.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/logged_in.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'),  meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/:id.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/:id/:tab.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/:id/replay/:session.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Studio.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/create-app.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Create.vue'), meta: {hideHeader: true}})\nmatcRoutes.push({path:'apps/tryout.html', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Create.vue'), meta: {hideHeader:true}})\n\n\n// Apps\n// matcRoutes.push({path:'', component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Apps.vue'),  meta: {isDarkHeader: true}})\n// matcRoutes.push({path:'apps/my-apps.html', name: \"apps_list\", meta: {isHome:true, analytics:true}, component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Apps.vue')})\n// matcRoutes.push({path:'apps/logged_in.html', meta: {isHome:true}, component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Apps.vue')})\n// matcRoutes.push({path:'apps/create-app.html',  name: \"apps_create\",  meta: {isHome:false}, component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Create.vue')})\n// matcRoutes.push({path:'apps/tryout.html',  name: \"apps_tryout\", component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Create.vue'), meta: {isTryout:true, isHome:false}})\n// matcRoutes.push({path:'apps/:id.html',  name: \"apps_overview\", component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Overview.vue'), meta: {analytics:true}})\n// matcRoutes.push({path:'apps/:id/:tab.html', name: \"apps_overview_tab\", component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Overview.vue'), meta: {analytics:true, analyticsKey:'tab'}})\n// matcRoutes.push({path:'apps/:id/replay/:session.html', name: \"apps_video\", component: () => import(/* webpackChunkName: \"apps\" */ 'views/apps/Overview.vue')})\n\n\nexport default new VueRouter({\n  routes: [\n    {\n      path: '/simulate.html',\n      name: 'SimulatorPage',\n      component: () => import(/* webpackChunkName: \"simulator\" */ 'views/simulator/SimulatorPage.vue')\n    },\n    {\n      path: '/tos.html',\n      name: 'Tos',\n      component: () => import(/* webpackChunkName: \"simulator\" */ 'views/Tos.vue'),\n      meta: {hasHeader: true}\n    },\n    {\n      path: '/privacy.html',\n      name: 'Privacy',\n      component: () => import(/* webpackChunkName: \"simulator\" */ 'views/Privacy.vue'),\n      meta: {hasHeader: true}\n    },\n    {\n      path: '/test.html',\n      name: 'TestPage',\n      component: () => import(/* webpackChunkName: \"matc\" */ 'views/simulator/TestPage.vue')\n    },\n    {\n      path: '/test/mobile/:id.html',\n      name: 'TestPageMobile',\n      component: () => import(/* webpackChunkName: \"matc\" */ 'views/simulator/TestMobile.vue')\n    },\n    {\n      path: '/apps/:id/create.html',\n      name: 'Editor',\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Design.vue')\n    },\n    {\n      path: '/apps/:id/design/:sid.html',\n      name: 'ScreenEditor',\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Design.vue')\n    },\n    {\n      path: '/share.html',\n      name: 'SharePage',\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Share.vue')\n    },\n    {\n      path: '/apps/:id/analyze/workspace.html',\n      name: 'AnalyticCanvasPage',\n      meta: {viewMode: 'Heatmap'},\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Design.vue')\n    },\n    {\n      path: '/examples/:id/analyze/workspace.html',\n      name: 'ExampleAnalyticCanvasPage',\n      meta: {isPublic:true, viewMode: 'Heatmap'},\n      component: () => import(/* webpackChunkName: \"design\" */ 'views/apps/Design.vue')\n    },\n    {\n      path: '/',\n      name: '',\n      children: matcRoutes,\n      component: () => import(/* webpackChunkName: \"matc\" */ 'views/QUX.vue')\n    },\n    {\n      path: '/test/DojoTest.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/DojoTest.vue')\n    },\n    {\n      path: '/test/Canvas.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/CanvasTest.vue')\n    },\n    {\n      path: '/test/Rest.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/RestSettingsTest.vue')\n    },\n    {\n      path: '/test/Sim.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/SimulatorTest.vue')\n    },\n    {\n      path: '/test/Rule.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/RuleTest.vue')\n    },\n    {\n      path: '/test/DataBindingTree.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/DataBindingTreeTest.vue')\n    },\n    {\n      path: '/test/Tree.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/TreeTest.vue')\n    },\n    {\n      path: '/test/Layer.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/LayerTest.vue')\n    },\n    {\n      path: '/test/Table.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/TableConfTest.vue')\n    },\n    {\n      path: '/test/SVG.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/SVGEditorTest.vue')\n    },\n    {\n      path: '/test/Figma.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/FigmaTest.vue')\n    },\n    {\n      path: '/test/Import.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ImportDialogTest.vue')\n    },\n    {\n      path: '/test/Task.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/TaskPerfGramTest.vue')\n    },\n    {\n      path: '/test/Task.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/TaskCreateDialogTest.vue')\n    },\n    {\n      path: '/test/Color.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ColorPickerTest.vue')\n    },\n    {\n      path: '/test/Export.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ExportTest.vue')\n    },\n    {\n      path: '/test/WS.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/WebSocketTest.vue')\n    },\n    {\n      path: '/test/StyledTable.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/StyledTableTest.vue')\n    },\n    {\n      path: '/test/CondStyle.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ConditionalStyleTest.vue')\n    },\n    {\n      path: '/test/JS.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/JSSandboxTest.vue')\n    },\n    {\n      path: '/test/Perf.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/PerfTest.vue')\n    },\n    {\n      path: '/test/BigData.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/BigDataTest.vue')\n    },\n    {\n      path: '/test/HTMLImporter.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/HTMlImporterTest.vue')\n    },\n    {\n      path: '/test/DesignGPT.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/DesignGPTTest.vue')\n    },\n    {\n      path: '/test/DesignGPTChat.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/DesignGPTChatTest.vue')\n    },\n    {\n      path: '/test/Outlier.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/OutlierTest.vue')\n    },\n    {\n      path: '/test/Responsive.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ResponsiveTest.vue')\n    },\n    {\n      path: '/test/Form.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/FormTest.vue')\n    },\n    {\n      path: '/test/VSlider.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/VSliderTest.vue')\n    },\n    {\n      path: '/test/CanvasComment.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/CanvasCommentTest.vue')\n    },\n    {\n      path: '/test/Chat.html',\n      component: () => import(/* webpackChunkName: \"unit\" */ './unit/ChatHelpTest.vue')\n    }\n  ]\n})","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport VueI18n from 'vue-i18n'\n\nimport Services from 'services/Services'\n\n\nasync function start() {\n  await Services.initConfig()\n  let conf = await Services.getConfig()\n  if (conf.auth === 'keycloak') {\n    const keycloakService = Services.getUserService()\n    await keycloakService.setConf(conf)\n  }\n\n  Vue.use(VueI18n)\n  Vue.config.productionTip = false\n  \n  new Vue({\n    router,\n    i18n: new VueI18n({\n      locale: 'en',\n      fallbackLocale: 'en',\n      messages: {\n        'en': require('./nls/en.json'),\n        'en-uk': require('./nls/en.json'),\n        'en-us': require('./nls/en.json'),\n        'cn': require('./nls/cn.json'),\n        'de': require('./nls/de.json'),\n        'pt-br': require('./nls/pt_br.json'),\n        'pt': require('./nls/pt_br.json')\n      }\n    }),\n    render: h => h(App)\n  }).$mount('#app')\n  \n}\n\nstart()\n\n","export default class AbstractService {\n\n    constructor () {\n        this.token = null\n    }\n\n    setToken (token) {\n        this.token = token\n    }\n\n    _createDefaultHeader() {\n        if (this.token) {\n            let headers = new Headers({\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': 'Bearer ' + this.token\n            })\n            this.addHeaders(headers)\n            return headers\n        } else {\n            let headers = new Headers({\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            })\n            this.addHeaders(headers)\n            return headers\n        }\n    }\n\n    /**\n     * Expention point for child classes. The can add custom headers\n     * to a request by overwritting this method.\n     */\n    addHeaders() {}\n\n    _getChached (url, successCallback, errorCallback) {\n        this.logger.log(6, '_getChached', 'enter ', url)\n        return new Promise((resolve, reject) => {\n            /**\n             * 1st check cache\n             */\n            if (this._cache && this._cache[url]) {\n                this.logger.log(6, '_getChached', 'exit (cache) ')\n                resolve(this._cache[url])\n                return\n            }\n\n\n             /**\n              * else do fetch\n              */\n            fetch(url, {\n                method: 'get',\n                credentials: \"same-origin\",\n                headers: this._createDefaultHeader()\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_getChached', 'exit (fetch)')\n                        if (!this._cache) {\n                            this._cache = {}\n                        }\n                        this._cache[url] = j\n                        resolve(j)\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                    })\n                } else {\n                    this.onError(url, res)\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not load ...'))\n                    }\n                    reject(new Error('Could not load ' + url))\n                }\n            }).catch((err) => {\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(err)\n            })\n        })\n    }\n\n    _get(url, successCallback, errorCallback) {\n        this.logger.log(6, '_get', 'enter ' + url)\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'get',\n                credentials: \"same-origin\",\n                headers: this._createDefaultHeader()\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_get', 'exit ')\n                        resolve(j)\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                    })\n                } else {\n                    this.onError(url, res)\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not load ...'))\n                    }\n                    reject(new Error('Could not load ' + url))\n                }\n            }).catch((err) => {\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(err)\n            })\n        })\n    }\n\n    _post(url, data, successCallback, errorCallback) {\n        this.logger.log(6, '_post', 'enter ' + url)\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'post',\n                credentials: \"same-origin\",\n                body: JSON.stringify(data),\n                headers: this._createDefaultHeader()\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_post', 'exit ')\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                        resolve(j)\n                    })\n                } else {\n                    this.onError(url, res)\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not _post ...'))\n                    }\n                    reject(new Error('Could not post ' + url))\n                }\n            }).catch((err) => {\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(err)\n            })\n        })\n    }\n\n    _put(url, data, successCallback, errorCallback) {\n        this.logger.log(6, '_put', 'enter ' + url)\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'put',\n                credentials: \"same-origin\",\n                body: JSON.stringify(data),\n                headers: this._createDefaultHeader()\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_put', 'exit ')\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                        resolve(j)\n                    })\n                } else {\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not _put ...'))\n                    }\n                    reject(new Error('Could not put ' + url))\n                }\n            }).catch((err) => {\n                this.onError(url)\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(err)\n            })\n        })\n    }\n\n    _delete(url, successCallback, errorCallback, header) {\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'delete',\n                headers: this._createDefaultHeader(header)\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.logger.log(6, '_put', 'exit ')\n                        if (successCallback) {\n                            successCallback(j)\n                        }\n                        resolve(j)\n                    })\n                } else {\n                    this.onError(url, res)\n                    if (errorCallback) {\n                        errorCallback(new Error('Could not delete ...'))\n                    }\n                    reject(new Error('Could not delete'))\n                }\n            }).catch(function (err) {\n                if (errorCallback) {\n                    errorCallback(err)\n                }\n                reject(new Error('Could not delete'))\n            })\n        })\n    }\n\n    setErrorHandler (handler) {\n        this.errorHandler = handler\n    }\n\n    onError (url, res) {\n        if (this.errorHandler) {\n            this.errorHandler(url, res)\n        }\n    }\n\n}","import AbstractService from './AbstractService'\nimport Logger from '../common/Logger'\nimport Cookies from 'js-cookie'\n\nclass UserService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('UserService')\n        this.language = 'en'\n        this.GUEST = {\n            id: -1,\n            name: \"Guest\",\n            email: \"guest@quant-ux.com\",\n            role: \"guest\",\n            lastlogin: 0,\n            lastNotification: 0,\n            tos: false,\n            paidUntil: 0,\n            plan: \"Free\"\n        }\n    }\n\n    async signup (data) {\n        return this._post('/rest/user', data)\n    }\n\n    async login (data) {\n        let user = await this._post('rest/login/', data)\n        if (!user.errors) {\n            this.setUser(user)\n        }\n        return user;\n    }\n\n    save (userID, data) {\n        return this._post('rest/user/' + userID + \".json\", data)\n    }\n\n    logout () {\n        localStorage.removeItem('quxUser');\n        Cookies.remove('quxUserLoggedIn')\n        Cookies.remove('quxUserLoggedIn', { path: '/' })\n        Cookies.remove('quxUserLoggedIn', { path: '/' , domain: 'quant-ux.com'})\n        return this._delete('rest/login/')\n    }\n\n    reset (email) {\n        return this._post('/rest/user/password/request', {email: email})\n    }\n\n    reset2 (email, password, token) {\n        let data = {\n            email: email,\n            password: password,\n            key: token\n        }\n        return this._post('/rest/user/password/set', data)\n    }\n\n    retire () {\n        this.logger.info('retire()', 'enter > Oh oh')\n        return this._get('/rest/retire')\n    }\n\n    load () {\n        if (!this.user) {\n            this.logger.info('getUser()', 'load')\n            let s = Cookies.get('quxUserLoggedIn')\n            if (s == undefined || s === null || s === '') {\n                this.logger.info('getUser()', 'from localstorage')\n                s = localStorage.getItem('quxUser')\n            }\n            if (s) {\n                try {\n                    const user = JSON.parse(s)\n                    this.setTTL(user)\n                    if (this.isValidUser(user)) {\n                        this.user = user\n                        this.setToken(this.getToken())\n                    } else {\n                        this.user = this.GUEST\n                    }\n                } catch (error) {\n                    this.logger.error('getUser', 'could not parse', s)\n                    this.user = this.GUEST\n                }\n            } else {\n                this.user = this.GUEST\n            }\n        }\n        return this.user\n    }\n\n    async loadById (id) {\n        return await this._get('/rest/user/' + id + '.json')\n    }\n\n    getNotications () {\n        return this._get('/rest/notifications.json')\n    }\n\n    setLastNotication () {\n        return this._post('/rest/user/notification/last.json')\n    }\n\n    getLastNotication () {\n        return this._get('/rest/user/notification/last.json')\n    }\n\n    getUser () {\n        return this.user\n    }\n\n    getToken () {\n        /**\n         * We might have an issue here on first loads!\n         * Make sure we chheck the local storage.\n         */\n        if (!this.user) {\n            this.load()\n        }\n\n        if (this.user && this.user.token) {\n            if (this.isValidUser(this.user)) {\n                return this.user.token\n            } else {\n                this.logger.error('getToken', 'Error > Token has timed out')\n                if (this.errorHandler) {\n                    this.errorHandler('', {\n                        tokenTimedOut: true\n                    })\n                }\n            }\n        }\n        return null;\n    }\n\n    isValidUser (u) {\n        if (u.exp && u.exp > 0) {\n            if (u.exp > new Date().getTime()) {\n                return true\n            } else {\n                this.logger.error('isValidUser', 'Error > Token has timed out')\n                this.logout()\n                location.href= \"#/\"\n            }\n        }\n        return false\n    }\n\n    setTTL (u) {\n        if (u.token) {\n            let jwt = this.parseJwt(u.token)\n            if (jwt) {\n                // JWT uses seconds\n                u.exp = jwt.exp * 1000\n                if (this.ttlTimeout) {\n                    clearTimeout(this.ttlTimeout)\n                }\n                let waitTime = u.exp - new Date().getTime() - (5 * 60 * 1000)\n                this.ttlTimeout = setTimeout(() => {\n                    location.href = `#/logout.html`\n                }, waitTime)\n                this.logger.log(-1, 'setTTL', 'User valid until', new Date(u.exp))\n                this.logger.log(-1, 'setTTL', 'Auto loggout  in ' + (waitTime / 1000) + ' sec')\n            } else {\n                this.logger.log(-1, 'setTTL', 'exit > NO token')\n            }\n        }\n    }\n\n    parseJwt (token) {\n        try {\n            var base64Url = token.split('.')[1];\n            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n            }).join(''));\n            return JSON.parse(jsonPayload);\n        } catch (e) {\n            this.logger.error('parseJwt', 'error > could not parse token', e)\n        }\n        return null\n    }\n\n    setUser (u) {\n        this.setTTL(u)\n        this.user = u\n        localStorage.setItem('quxUser', JSON.stringify(u));\n        Cookies.set('quxUserLoggedIn', JSON.stringify(u), { domain: 'quant-ux.com', expires: 7, secure: true, path:'/'}) \n    }\n\n    setLanguage (langauge) {\n        this.language = langauge\n        localStorage.setItem('quxLanguage', this.language);\n    }\n\n    getLanguage () {\n        let s = localStorage.getItem('quxLanguage')\n        if (s) {\n            this.language = s\n        } else {\n            this.language = navigator.language\n        }\n        return this.language\n    }\n\n    contact (name, email, message) {\n        return this._post(\"/rest/contact\", {\n            name: name,\n            email: email,\n            message: message\n        })\n    }\n\n    deleteImage (user) {\n        return this._delete( \"/rest/user/\" + user.id + \"/images/\" + user.image);\n    }\n\n}\nexport default new UserService()","import AbstractService from 'services/AbstractService'\nimport Logger from 'common/Logger'\n\nexport class ModelService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('ModelService')\n    }\n\n    createApp (model) {\n        this.logger.log(1, 'createApp', 'enter', model)\n        return this._post('rest/apps/', model)\n    }\n\n    updateAppProps (id, change) {\n        return this._post(`/rest/apps/props/${id}.json`, change)\n    }\n\n    saveApp (model) {\n        this.logger.log(1, 'saveApp', 'enter', model)\n        return this._post(`/rest/apps/${model.id}.json`, model)\n    }\n\n    copyApp (model, newName) {\n        this.logger.warn('copyApp', 'enter', model)\n        return this._post(`/rest/apps/copy/${model.id}`, {\"name\" : newName})\n    }\n\n    updateApp (model, changes) {\n        this.logger.log(4, 'updateApp', 'enter', changes)\n        return this._post(`/rest/apps/${model.id}/update`, changes)\n    }\n\n    deleteApp (model) {\n        this.logger.log(-1,'deleteApp', 'enter', model)\n        return this._delete(`/rest/apps/${model.id}.json`)\n    }\n\n    findPublicSummaries () {\n        return this._get('rest/apps/public?summary=true')\n    }\n\n    findMyAppSummaries () {\n        return this._get('rest/apps/?summary=true')\n    }\n\n    findPublic () {\n        return this._get('rest/apps/public')\n    }\n\n    findMyApps () {\n        return this._get('rest/apps/')\n    }\n\n    findApp (id) {\n        return this._get(`/rest/apps/${id}.json`)\n    }\n\n    findAppByHash (hash) {\n        return this._get(`/rest/invitation/${hash}/app.json`)\n    }\n\n    checkAppUpdateByHash (hash) {\n        return this._get(`/rest/invitation/${hash}/update.json`)\n    }\n\n    findImages(id) {\n        return this._get(`/rest/images/${id}.json`)\n    }\n\n    /**\n     * Commands\n     */\n\n    getCommands (id) {\n        return this._get(`/rest/commands/${id}.json`)\n    }\n\n    saveCommands (id, stack) {\n        return this._post(`/rest/commands/${id}.json`, stack)\n    }\n\n    addCommand (model, command) {\n        return this._post(`/rest/commands/${model.id}/add`, command)\n    }\n\n    deleteCommand (model, count) {\n        return this._delete(`/rest/commands/${model.id}/pop/${count}`)\n    }\n\n    shiftStack (model, count) {\n        return this._delete(`/rest/commands/${model.id}/shift/${count}`)\n    }\n\n    undoCommand (model, command) {\n        return this._post(`/rest/commands/${model.id}/undo`, command)\n    }\n\n    redoCommand (model, command) {\n        return this._post(`/rest/commands/${model.id}/redo`, command)\n    }\n\n    /**\n     * Team\n     */\n    findTeam (id) {\n        return this._get(`/rest/apps/${id}/team.json`)\n    }\n\n    findTeamSuggestions (id) {\n        return this._get(`/rest/apps/${id}/suggestions/team.json`)\n    }\n\n    createTeam (id, user) {\n        return this._post(`/rest/apps/${id}/team/`, user)\n    }\n\n    updateTeam (id, user) {\n        return this._post(`/rest/apps/${id}/team/${user.id}.json`, user)\n    }\n\n    deleteTeam (id, user) {\n        return this._delete(`/rest/apps/${id}/team/${user.id}.json`)\n    }\n\n    resetTeam(id) {\n        return this._delete(`/rest/apps/invitation/${id}`)\n    }\n\n    /**\n     * Events\n     */\n    saveEvent (id, hash, event) {\n        return this._post(`/rest/invitation/${id}/${hash}/events.json`, event)\n    }\n\n    findEvents (id) {\n        return this._get(`/rest/events/${id}.json?exclude=Animation`)\n    }\n\n    findEventsBatch (id) {\n        return this._get(`/rest/events/${id}.json?exclude=Animation&batch=true`)\n    }\n\n    countEvents (id) {\n        return this._get(`/rest/events/${id}/all/count.json`)\n    }\n\n    findEventsBySession (id, session) {\n        return this._get(`/rest/events/${id}/${session}.json`)\n    }\n\n    deleteEventsBySession (id, session) {\n        return this._delete(`/rest/events/${id}/${session}.json`)\n    }\n\n    /**\n     * Mouse\n     */\n    findMouse (id) {\n        return this._get(`/rest/mouse/${id}.json`)\n    }\n\n    findMouseBySession (id, session) {\n        return this._get(`/rest/mouse/${id}/${session}.json`)\n    }\n\n    saveMouse (id, hash, events) {\n        return this._post(`/rest/invitation/${id}/${hash}/mouse.json`, events)\n    }\n\n    deleteMouseBySession (id, session) {\n        return this._delete(`/rest/mouse/${id}/${session}.json`)\n    }\n\n\n    /**\n     * Annotations\n     */\n    findSessionAnnotations (id) {\n        if (!id) {\n            this.logger.error('findSessionAnnotations', 'error', 'no id passed')\n            this.logger.sendError(new Error())\n        }\n        return this._get(`/rest/annotations/apps/${id}/session.json`)\n    }\n\n    findTagAnnotations (id) {\n        return this._get(`/rest/annotations/apps/${id}/tags.json`)\n    }\n\n    deleteAnnotation (id, annotationId) {\n        return this._delete(`/rest/annotations/apps/${id}/${annotationId}.json`)\n    }\n\n    saveAnnotation (id, annotation) {\n        return this._post(`/rest/annotations/apps/${id}`, annotation)\n    }\n\n    updateAnnotation (id, annotation) {\n        return this._post(`/rest/annotations/apps/${id}/${annotation.id}.json`, annotation)\n    }\n\n    /**\n     * Inivitations\n     */\n    findInvitation (id) {\n        return this._get(`/rest/invitation/${id}.json`)\n    }\n\n    /**\n     * Test\n     */\n    findTest (id) {\n        return this._get(`/rest/test/${id}.json`)\n    }\n\n    findTestByHash (app, hash) {\n        return this._get(`/rest/invitation/${app.id}/${hash}/test.json`)\n    }\n\n    saveTestSettings (id, test) {\n        return this._post(`/rest/test/${id}.json`, test)\n    }\n\n\n    /**\n     * Examples\n     */\n    findPublicMouse (id) {\n        return this._get(`/examples/mouse/${id}.json`)\n    }\n\n    findPublicMouseBySession (appId, sessionId) {\n        return this._get(`/examples/mouse/${appId}/${sessionId}.json`)\n    }\n\n    findPublicTagAnnotations (id) {\n        return this._get(`/examples/annotations/apps/${id}/tags.json`)\n    }\n}\nexport default new ModelService()","import {ModelService} from './ModelService'\nimport Logger from '../common/Logger'\n\n/**\n * Model service for the exampole section taht doe snot test anything\n */\nclass PublicModelService extends ModelService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('PublicModelService')\n    }\n\n    findApp (id) {\n        return this._get(`/examples/apps/${id}.json`)\n    }\n\n    findAppByHash (hash) {\n        return this._get(`/examples/invitation/${hash}/app.json`)\n    }\n\n    getCommands (id) {\n        return this._get(`/examples/commands/${id}.json`)\n    }\n\n    saveCommands () {\n        return\n    }\n\n\n    findEvents (id) {\n        return this._get(`/examples/events/${id}.json?exclude=Animation`)\n    }\n\n    findEventsBySession (id, session) {\n        return this._get(`/examples/events/${id}/${session}.json`)\n    }\n\n    findMouse (id) {\n        return this._get(`/examples/mouse/${id}.json`)\n    }\n\n    findMouseBySession (id, session) {\n        return this._get(`/examples/mouse/${id}/${session}.json`)\n    }\n\n    findSessionAnnotations (id) {\n        return this._get(`/examples/annotations/apps/${id}/session.json`)\n    }\n\n    findTest (id) {\n        return this._get(`/examples/test/${id}.json`)\n    }\n\n    findTestByHash (app, hash) {\n        return this._get(`/examples/invitation/${app.id}/${hash}/test.json`)\n    }\n\n\n\n    _post() {\n        return new Promise((resolve) => {\n            resolve()\n        })\n    }\n\n    _put() {\n        return new Promise((resolve) => {\n            resolve()\n        })\n    }\n\n    _delete() {\n        return new Promise((resolve) => {\n           resolve()\n        })\n    }\n\n}\nexport default new PublicModelService()","import AbstractService from 'services/AbstractService'\nimport Logger from 'common/Logger'\n\nclass CommentService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('CommentService')\n    }\n\n    findAll (appID,) {\n \n        return this._get(`rest/comments/apps/${appID}.json`)\n        \n    }\n\n    find (appID, type, reference) {\n        if (!reference) {\n            return this._get(`rest/comments/apps/${appID}/${type}.json`)\n        } else {\n            return this._get(`rest/comments/apps/${appID}/${reference}/${type}.json`)\n        }\n    }\n\n    delete (appID, comment) {\n        return this._delete(`rest/comments/apps/${appID}/${comment.id}.json`)\n    }\n\n    create (appID, comment){\n        return this._post(`rest/comments/apps/${appID}`, comment)\n    }\n\n    update (appID, comment){\n        return this._post(`rest/comments/apps/${appID}/${comment.id}.json`, comment)\n    }\n\n}\nexport default new CommentService()","class HelpService  {\n\n\n    getAll () {\n        return new Promise( (resolve) => {\n            if (!this.texts) {\n                Promise.all([\n                    import(/* webpackChunkName: \"help\" */ 'help/en/default.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/animations.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/imports.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/other.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/data_binding.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/logic_flows.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/ab_testing.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/form_validation.js'),\n           \n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/screen_segments.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/rest.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/script.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/other.js'),\n\n                    //import(/* webpackChunkName: \"help\" */ 'help/en/design_system.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/design_token.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/components.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/master_screens.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/design_import.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/testing.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/survey.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/analytic_intro.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/analytic_tasks.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/analytics_scatter.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/analytic_canvas.js'),\n\n                    import(/* webpackChunkName: \"help\" */ 'help/en/support.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/bugs.js'),\n                    import(/* webpackChunkName: \"help\" */ 'help/en/contact.js')\n                    // import(/* webpackChunkName: \"help\" */ 'help/en/task.js')\n                ]).then(all => {\n                    this.texts = all.flatMap(t => t.texts)\n                    this.texts.forEach(t => {\n                        t._all = t.title.toLowerCase()\n                        if (t.paragraphs) {\n                            t._all += \" \" + t.paragraphs.map(p => p.body).join(' ')\n                        }\n                    })\n                    resolve(this.texts)\n                })\n            } else {\n                resolve(this.texts)\n            }\n        })\n    }\n}\n\n\n\nexport default new HelpService()","import Logger from 'common/Logger'\nimport AbstractService from './AbstractService'\n\nclass ImageService extends AbstractService {\n\n  constructor () {\n    super()\n    this.logger = new Logger('ImageService')\n  }\n\n  delete (model, image) {\n    return this._delete(\"/rest/images/\" + model.id + \"/\" + image.id + \"/\" + image.url)\n  }\n\n  upload (url, formData, progressHandler) {\n    this.logger.log(-1, \"upload\", \"enter\");\n    return new Promise((resolve, reject) => {\n    \t// now post a new XHR request\n      const xhr = new XMLHttpRequest();\n      xhr.open('POST', url);\n\n      if (progressHandler) {\n        xhr.onprogress = progressHandler\n      }\n\n      if (this.token) {\n        xhr.setRequestHeader('Authorization', 'Bearer ' + this.token);\n      } else {\n        this.logger.error(\"_sendSingleFile\", \"No token\");\n        this.logger.sendError(new Error('Could not upload because no token'))\n      }\n      xhr.onload = function () {\n          if (xhr.status === 200) {\n            resolve(this.response);\n          } else {\n            this.logger.sendError(new Error('Could not upload'))\n            reject(this.response);\n          }\n      };\n      xhr.send(formData);\n    })\n  }\n}\n\n\n\nexport default new ImageService()","import AbstractService from './AbstractService'\nimport Logger from 'common/Logger'\nimport Keycloak from \"keycloak-js\";\n\nclass KeyCloakService extends AbstractService{\n\n    constructor () {\n        super()\n        this.language = 'en'\n        this.REFRESH_INTERVAl = 60 * 1000\n        this.GUEST = {\n            id: -1,\n            name: \"Guest\",\n            isKeyCloak: true,\n            email: \"guest@quant-ux.com\",\n            role: \"guest\",\n            lastlogin: 0,\n            lastNotification: 0,\n            tos: false,\n            paidUntil: 0,\n            plan: \"Free\"\n        }\n        this.logger = new Logger('KeyCloakService')\n    }\n\n    setConf(conf) {\n        this.initOptions = {\n            url: conf.keycloak.url, \n            realm: conf.keycloak.realm, \n            clientId: conf.keycloak.clientId\n        }\n    }\n\n    init() {\n        if (this.isInited) {\n            return\n        }\n        return new Promise((resolve) => {\n            this.logger.log(-1, 'init() > enter')\n         \n                      \n            const keycloak = Keycloak(this.initOptions);\n            keycloak.init({\n              onLoad: 'check-sso',\n              silentCheckSsoRedirectUri: window.location.origin + '/sso.html'\n            })\n          \n            keycloak.onReady = () => {\n              if (!keycloak.authenticated){\n                this.logger.log(-1, 'init() > need login')\n                keycloak.login()\n                resolve()\n              } else {\n                this.logger.log(-1, 'init() > user logged in')\n                keycloak.loadUserProfile().then(async user => {\n                  this.logger.log(-1, 'init()', 'user loaded', user)\n                  const quxUser = {\n                    id:user.id,\n                    name: user.username,\n                    lastname: user.lastname,\n                    email: user.username,\n                    token: keycloak.token\n                  }\n                  this.isInited = true\n                  this.setUser(quxUser)\n                  await this._post('/rest/user/external', quxUser)\n                  resolve()\n                  \n                  setInterval(async () => {\n                    await keycloak.updateToken(300).catch(() => {\n                      Logger.error('Keycloak failed to refresh token')\n                    })\n                    const quxUser = {\n                        id:user.id,\n                        name: user.username,\n                        lastname: user.lastname,\n                        email: user.username,\n                        token: keycloak.token\n                    }\n                    this.setUser(quxUser)\n                  }, this.REFRESH_INTERVAl)\n              \n                })\n              \n              }\n            }\n          \n            keycloak.onAuthLogout = () => {\n              this.logger.log(-1, 'onAuthLogout()')\n            }\n            this.keycloak = keycloak   \n            this.logger.log(-1, 'init() > exit')   \n        })\n       \n       \n    }\n\n    signup () {\n   \n    }\n\n    async login () {\n    \n    }\n\n    save () {\n        //return this._post('rest/user/' + userID + \".json\", data)\n    }\n\n    logout () {\n        this.logger.log(-1, 'KeyCloakService.logout()')\n        localStorage.removeItem('quxKeyCloakUser');\n        if (this.keycloak) {\n            this.keycloak.logout()\n        }\n    }\n\n    reset () {\n    }\n\n    reset2 () {\n       \n    }\n\n    retire () {\n      \n    }\n\n    async load () {\n       await this.init()\n       return this.user\n    }\n\n    async loadById (id) {\n        return await this._get('/rest/user/' + id + '.json')\n    }\n\n    getNotications () {\n        return this._get('/rest/notifications.json')\n    }\n\n    setLastNotication () {\n        return this._post('/rest/user/notification/last.json')\n    }\n\n    getLastNotication () {\n        return this._get('/rest/user/notification/last.json')\n    }\n\n    getUser () {\n        return this.user\n    }\n\n    getToken () {\n        /**\n         * We moght have an issue here on forst loads!. Make sure we chhecke the local storage.\n         */\n        if (!this.user) {\n            this.load()\n        }\n\n        if (this.user && this.user.token) {\n            if (this.isValidUser(this.user)) {\n                return this.user.token\n            } else {\n                this.logger.error('getToken', 'Error > Token has timed out')\n                if (this.errorHandler) {\n                    this.errorHandler('', {\n                        tokenTimedOut: true\n                    })\n                }\n            }\n        }\n        return null;\n    }\n\n    isValidUser (u) {\n        if (u.exp && u.exp > 0) {\n            if (u.exp > new Date().getTime()) {\n                return true\n            } else {\n                this.logger.error('isValidUser', 'Error > Token has timed out')\n                this.logout()\n                location.href= \"#/\"\n            }\n        }\n        return false\n    }\n\n    setTTL (u) {\n        if (u.token) {\n            let jwt = this.parseJwt(u.token)\n            if (jwt) {\n                // JWT uses seconds\n                u.exp = jwt.exp * 1000\n                this.logger.log(-1, 'setTTL', 'exit > User valid until', new Date(u.exp))\n            } else {\n                this.logger.log(-1, 'setTTL', 'exit > NO token')\n            }\n        }\n    }\n\n    parseJwt (token) {\n        try {\n            var base64Url = token.split('.')[1];\n            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n            }).join(''));\n            return JSON.parse(jsonPayload);\n        } catch (e) {\n            this.logger.error('parseJwt', 'error > could not parse token', e)\n        }\n        return null\n    }\n\n    setUser (u) {\n        this.setTTL(u)\n        this.user = u\n    }\n\n    setLanguage (langauge) {\n        this.language = langauge\n        localStorage.setItem('quxLanguage', this.language);\n    }\n\n    getLanguage () {\n        let s = localStorage.getItem('quxLanguage')\n        if (s) {\n            this.language = s\n        } else {\n            this.language = navigator.language\n        }\n        return this.language\n    }\n\n    contact (name, email, message) {\n        return this._post(\"/rest/contact\", {\n            name: name,\n            email: email,\n            message: message\n        })\n    }\n\n    deleteImage (user) {\n        return this._delete( \"/rest/user/\" + user.id + \"/images/\" + user.image);\n    }\n\n}\nexport default new KeyCloakService()\n","import Logger from 'common/Logger'\nimport AbstractService from './AbstractService'\nimport * as StyleImporter from 'core/ai/StyleImporter'\n\nexport default class AIService extends AbstractService {\n\n\n    constructor() {\n        super()\n        this.logger = new Logger('AIService')\n        this.messages = []\n        this.language = 'YAML'\n    }\n\n    reset () {\n        this.messages = []\n    }\n\n    async runCodex (message, key) {\n        return this.runCompletions(message, key, 'code-davinci-002')\n    }\n\n    async runDavinci (message, key) {\n        return this.runCompletions(message, key, 'text-davinci-003')\n    }\n\n    async runCompletions (message, key, model, temperature = 0, maxTokens = 2000) {\n\n        const prompt =`\n            You are HTMLGPT, a masterful webdeveloper. Please create a HTML page for the following\n            description:\n\n            ${message}\n\n            Please output a a HTML page.`\n\n\n        const data = {\n            'openAIModel': '/v1/completions',\n            'openAIToken': key,\n            'openAIOrgID': 'Klaus',\n            'openAIPayload': {\n                \"model\": model,\n                \"prompt\": prompt,\n                \"max_tokens\": maxTokens,\n                \"temperature\": temperature\n            }\n        }\n\n        try {\n            const res = await this._post('/ai/openai.json', data)\n            console.debug(res)\n            if (res.choices && res.choices.length > 0) {\n                const choice = res.choices[0]\n                const content = choice?.text\n                return this.extractHTML(content)\n            }\n        } catch (err){\n            return {\n                error: 'design-gpt.error-server'\n            }\n        }\n        return {\n            error: 'design-gpt.error-no-idea'\n        }\n    }\n\n    runFakeYaml (ms = 200) {\n        return new Promise(resolve => {\n            setTimeout(() => {\n            resolve({\n                yaml:`\n                CONTAINER:\n                    FLEX-DIRECTION: COLUMN\n                    CHILDREN:\n                        - IMAGE:\n                            CONTENT: \"Join the Party!\"\n                        - LABEL:\n                            TYPE: Paragraph\n                            COLOR: 'red'\n                            BACKGROUND: 'blue'\n                            CONTENT: \"Come on in! The more the merrier. But first, we need some details\"\n                        - INPUT:\n                            TYPE: Text\n                            PLACEHOLDER: \"Username\"\n                        - INPUT:\n                            TYPE: Password\n                            PLACEHOLDER: \"Password\"\n                        - INPUT:\n                            TYPE: Text\n                            PLACEHOLDER: \"Email\"\n                        - INPUT:\n                            TYPE: Checkbox\n                            PLACEHOLDER: \"I agree to terms and conditions\"\n                        - CONTAINER:\n                            FLEX-DIRECTION: ROW\n                            CHILDREN:\n                            - BUTTON:\n                                CONTENT: \"Sign Up\"\n                            - BUTTON:\n                                CONTENT: \"Login\"\n                        - INPUT:\n                            TYPE: Checkbox\n                            PLACEHOLDER: \"I agree to terms and conditions\"\n            ` })\n        }, ms)\n        })\n    }\n\n    runFakeYaml2 (ms = 200) {\n\n        return new Promise(resolve => {\n            setTimeout(() => {\n            resolve({\n                yaml:`\n                CONTAINER:\n                    FLEX-DIRECTION: COLUMN\n                    CHILDREN:\n                        - TABLE:\n                            COLUMNS: [\"ID\", \"Username\", \"Email\", \"Role\"]\n                            DATA:\n                            - [\"1\", \"johndoe\", \"john@example.com\", \"Member\"]\n                            - [\"2\", \"janedoe\", \"jane@example.com\", \"Admin\"]\n                            - [\"3\", \"stevesmith\", \"steve@example.com\", \"Member\"]\n                            - [\"4\", \"maryjohnson\", \"mary@example.com\", \"Moderator\"]\n                            COLOR: \"#000000\"\n                            BACKGROUND: \"#FAFAFA\"\n                            BORDER_COLOR: \"#E0E0E0\"\n                        - CONTAINER:\n                            FLEX-DIRECTION: COLUMN\n                            CHILDREN:\n                            - LABEL:\n                                TYPE: Headline\n                                CONTENT: \"Welcome to Our Startup\"\n                                COLOR: 'red'\n                                BACKGROUND: 'blue'\n                                BORDER_COLOR: 'yellow'\n                            - BUTTON:\n                                CONTENT: \"MORE.\"\n                                BORDER_COLOR: 'yellow'\n\n                        - CONTAINER:\n                            FLEX-DIRECTION: ROW\n                            CHILDREN:\n                            - BUTTON:\n                                CONTENT: \"Learn More\"\n                            - BUTTON:\n                                CONTENT: \"Contact Us\"\n\n                        - CONTAINER:\n                            FLEX-DIRECTION: COLUMN\n                            CHILDREN:\n                            - LABEL:\n                                TYPE: Headline\n                                CONTENT: \"Sign Up Now\"\n                            - LABEL:\n                                TYPE: Label\n                                CONTENT: \"Full Name\"\n                            - INPUT:\n                                TYPE: Text\n                                PLACEHOLDER: \"Enter your name\"\n\n                            - LABEL:\n                                TYPE: Label\n                                CONTENT: \"Email\"\n                            - INPUT:\n                                TYPE: Text\n                                PLACEHOLDER: \"Enter your email\"\n\n                            - LABEL:\n                                TYPE: Label\n                                CONTENT: \"Password\"\n                            - INPUT:\n                                TYPE: Password\n                                PLACEHOLDER: \"Enter a secure password\"\n\n                            - LABEL:\n                                TYPE: Label\n                                CONTENT: \"Confirm Password\"\n                            - INPUT:\n                                TYPE: Password\n                                PLACEHOLDER: \"Re-enter your password\"\n                            \n                            - BUTTON:\n                                CONTENT: \"Register Now\"\n        ` })\n            }, ms)\n        })\n    }\n    \n    runFake(ms = 200) {\n        return new Promise (resolve => {\n            setTimeout(() => {\n                resolve( {\n                    html:`\n                <html>\n                    <html lang=\"en\">\n                    <head>\n                        <meta charset=\"UTF-8\">\n                        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n                        <title>Login Page</title>\n                        <style>\n                            *{\n                                box-sizing: border-box;\n                                font-family: Arial, sans-serif;\n                            }\n                            body{\n                                background-color: #f1f1f1;\n                                margin: 0;\n                                padding: 0;\n                                margin: 24px\n                            }\n                            .container{\n                                width: 90%;\n                                max-width: 720px;\n                                margin: 0 auto;\n                                padding: 20px;\n                                background-color: #fff;\n                                border-radius: 10px;\n                                box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.2);\n                            }\n                            form{\n                                display: flex;\n                                flex-direction: column;\n                            }\n                            label{\n                                margin-bottom: 5px;\n                                font-weight: bold;\n                            }\n                            input{\n                                height: 40px;\n                                padding: 5px;\n                                margin-bottom: 10px;\n                                border: none;\n                                border-radius: 5px;\n                                font-size: 18px;\n                                outline: none;\n                            }\n                            button{\n                                height: 40px;\n                                background-color: red;\n                                color: #fff;\n                                border: none;\n                                border-radius: 5px;\n                                font-size: 18px;\n                                cursor: pointer;\n                            }\n                            .forgot-password{\n                                margin-top: 10px;\n                                text-align: center;\n                            }\n                            .forgot-password a{\n                                color: red;\n                                font-weight: bold;\n                                text-decoration: none;\n                            }\n                        </style>\n                    </head>\n                    <body>\n                        <div class=\"container\">\n                            <h1>Login Page</h1>\n                            <form>\n                                <label for=\"username\">Username</label>\n                                <input type=\"text\" id=\"username\" name=\"username\" required>\n    \n                                <label for=\"password\">Password</label>\n                                <input type=\"password\" id=\"password\" name=\"password\" required>\n    \n                                <button type=\"submit\">Login</button>\n                            </form>\n                            <div class=\"forgot-password\">\n                                <a href=\"#\">Forgot Password?</a>\n                            </div>\n                        </div>\n                    </body>\n                    </html>`})\n            }, ms)\n        })\n    }\n\n    async runGPT4Turbo (message, key, app, options) {\n        return this.runChatHTML('gpt-4-1106-preview', message, key, app, options)       \n    }\n\n    async runGPT4 (message, key, app, options) {\n        return this.runChatHTML('gpt-4', message, key, app, options)       \n    }\n\n    async runGPT35Turbo(message, key, app, options) {\n        return this.runChatHTML('gpt-3.5-turbo', message, key, app, options)\n    }\n\n    async runGPT4TurboYaml(message, key, app) {\n\n        const prompt =`\n            This is a UI language in YAML which has the following elements:\n\n            CONTAINER: An element that can have child elements. I container has an list of CHILDREN elements. \n                A container has an attribute FLEX-DIRECTION. It can have the values ROW and COLUMN. ROW means,\n                that the elements are aligned horizontal from left to right, COLUMN means the elements are aligned vertical from top to down.\n            \n            LABEL: An Element that can show text. It has a CONTENT element. A label has a TYPE element which can be \"Headline\", \"Label\" or \"Paragraph\"\n\n            BUTTON: An Element that can show text. It has a CONTENT element. \n            \n            INPUT: An element to render a text field. It can have a PLACEHOLDER ELEMENT and a TYPE element. The TYPE can be \"Text\", \"Checkbox\", \"RadioBox\", \"Switch\", \"Password\" or \"TextArea\".\n            \n            IMAGE: An element to present an image. It has a CONTENT child element. Images are optional and should only be included if needed.\n\n            TABLE: An element to present a table. It has a COLUMNS element which is a list of column names. \n            It also has a DATA element which is an ARRAY of ARRAY of string values.\n\n            Each element can have a COLOR, BACKGROUND and BORDER_COLOR element to describe the visual appearance. The values are hex color codes.\n\n            Please generate :\n\n            ${message}\n\n            \n            Return the result as YAML in the defined language. Do not include any additional text.\n        `\n\n        const data = {\n            'openAIModel': '/v1/chat/completions',\n            'openAIToken': key,\n            'openAIOrgID': 'Klaus',\n            'openAIPayload': {\n                \"model\": 'gpt-4-1106-preview',\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": `\n                        You are design GPT. You are really good at deisgn web sites and mobile apps.\n                    `},\n                    {\"role\": \"system\", \"content\": `\n                        The website you generate should run on a ${app.type} device.\n                        The screen with is ${app.screenSize.w} pixel\n                    `},\n                    //{\"role\": \"system\", \"content\": this.getStylePrompt(app, options)},\n                    {\"role\": \"user\", \"content\": prompt}\n                ]\n            }\n        }\n\n        return this.runPrompt(data, 'yaml')\n    }\n\n\n    async runChatHTML (model, message, key, app) {\n        const prompt =`\n            Please create a HTML page for the following\n            description:\n\n            ${message}\n\n            \n            Please output as a HTML page.\n        `\n\n        const data = {\n            'openAIModel': '/v1/chat/completions',\n            'openAIToken': key,\n            'openAIOrgID': 'Klaus',\n            'openAIPayload': {\n                \"model\": model,\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": `\n                        You are HTMLGPT, a masterful webdeveloper skillful in HTML and CSS. \n                        You have a great experiences designing beautiful websites that delight their users.\n                        Make sure that some CSS is included and the page is well styled.\n                    `},\n                    {\"role\": \"system\", \"content\": `\n                        The website you generate should run on a ${app.type} device.\n                        The screen with is ${app.screenSize.w} pixel\n                    `},\n                    //{\"role\": \"system\", \"content\": this.getStylePrompt(app, options)},\n                    {\"role\": \"user\", \"content\": prompt}\n                ]\n            }\n        }\n\n        return this.runPrompt(data)\n    }\n\n    async runPrompt (data, returnType = 'html') {\n\n        try {\n            const start = Date.now()\n            const res = await this._post('/ai/openai.json', data)\n            const end = Date.now()\n            this.logger.error('runPrompt() > API took ', end-start)\n\n            if (res.choices && res.choices.length > 0) {\n                const choice = res.choices[0]\n                const content = choice?.message?.content\n                if (returnType === 'html') {\n                    return this.extractHTML(content)\n                } else {\n                    return this.extractYAML(content)\n                }\n\n            }\n            if (res.error) { \n                this.logger.error('runPrompt() > Error from API', res)\n                if (res.error.code === 'invalid_api_key') {\n                    return {\n                        error: 'design-gpt.error-server-key'\n                    }\n                }\n                if (res.error.code === 'insufficient_quota') {\n                    return {\n                        error: 'design-gpt.error-insufficient_quota'\n                    }\n                }\n            }\n        } catch (err){\n            return {\n                error: 'design-gpt.error-server'\n            }\n        }\n        return {\n            error: 'design-gpt.error-no-idea'\n        }\n    }\n\n    getStylePrompt (app, options) {\n        if (!options.isCustomStyles) {\n            return ''\n        }\n        try {\n\n            const customStyles = StyleImporter.getCustomStyle(app)\n            return `\n                Unless further specified, use the following colors and backgrounds for the HTML elements:\n                Screens should have one of the following background colors: ${this.join(customStyles?.screen?.background)}.\n                Buttons should have one of the following background colors: ${this.join(customStyles?.button?.background)}.\n                Buttons should have one of the following colors: ${this.join(customStyles?.button?.color)}.\n                Labels, P and normal text should have one of the following colors: ${this.join(customStyles?.label?.color)}.\n                INPUT elements should have one of the following background colors: ${this.join(customStyles?.input?.background)}.\n                INPUT elements should have one of the following colors: ${this.join(customStyles?.input?.color)}.\n                INPUT elements should have one of the following border color : ${this.join(customStyles?.input?.borderTopColor)}.\n            `\n        } catch (err) {\n            this.logger.error('getStylePrompt', 'Error', err)\n        }\n\n        return ''\n    }\n\n    join(arr) {\n        if (arr) {\n            return arr.join(', ')\n        }\n        return ''\n    }\n\n    extractYAML (content) {\n        console.debug('extractYAML', content)\n        try {\n            content = content.split('\\n').slice(1, -1).join('\\n')\n            return {\n                yaml: content\n            }\n        } catch (e) {\n            console.error(e)\n        }\n        return {\n            error: 'design-gpt.error-no-yaml'\n        }\n    }\n\n    extractHTML (content) {\n          \n        if (!content) {\n            return {\n                error: 'error-no-content'\n            }\n        }\n        const start = content.indexOf('html>')\n        const end = content.indexOf('</html>')\n        if (start > -1 && end > -1) {\n            let innerHTML = content.substring(start + 5, end)\n            innerHTML = innerHTML.replace('<html>', '')\n            return {\n                html: `<html>${innerHTML}</html>`\n            }\n        } \n        return {\n            error: 'design-gpt.error-no-html'\n        }\n    }\n\n    getAssistants () {\n        return this._get('/v1/assistants')\n    }\n\n}","import UserService from './UserService'\nimport ModelService from './ModelService'\nimport PublicModelService from './PublicModelService'\nimport CommentService from './CommentService'\nimport SymbolService from './SymbolService'\nimport HelpService from './HelpService'\nimport ImageService from './ImageService'\nimport WebSocketService from './WebSocketService'\nimport KeyCloakService from './KeyCloakService'\nimport AIService from './AIService'\n\nclass Services {\n\n    constructor () {\n        this.config = {\n            'default': true,\n            'auth': 'qux',\n            'websocket': 'wss://ws.quant-ux.com'\n        }\n    }\n\n    async initConfig () {\n        return new Promise((resolve, reject) => {\n            fetch('/config.json', {\n                method: 'get',\n                credentials: \"same-origin\"\n            }).then((res) => {\n                if (res.status === 200) {\n                    res.json().then(j => {\n                        this.config = j\n                        resolve(j)\n                    })\n                } else {\n                    reject(new Error('Could not load config'))\n                }\n            }).catch((err) => {\n                reject(err)\n            })\n        })\n    }\n\n    getConfig() {\n        return this.config\n    }\n\n    setErrorHandler (handler) {\n        this.errorHandler = handler\n        ModelService.setErrorHandler(handler)\n        PublicModelService.setErrorHandler(handler)\n        UserService.setErrorHandler(handler)\n        ImageService.setErrorHandler(handler)\n    }\n\n    getImageService () {\n        ImageService.setToken(this.getUserService().getToken())\n        return ImageService\n    }\n\n    getWebSocketService (modelId, token, user) {\n        if (this.config.websocket) {\n            let ws = new WebSocketService(this.config.websocket, modelId, token, user)\n            return ws\n        }\n        return null\n    }\n\n    getAIService () {\n        const aiService = new AIService()\n        aiService.setToken(UserService.getToken())\n        return aiService   \n    }\n\n    getUserService () {\n        if (this.config.auth === 'keycloak') {\n            return KeyCloakService\n        } else {\n            UserService.setToken(UserService.getToken())\n            return UserService   \n        }\n    }\n\n    getSymbolService () {\n        return SymbolService\n    }\n\n    getHelpService () {\n        return HelpService\n    }\n\n    getModelService (route) {\n        if (route && route.meta && route.meta.isPublic) {\n            PublicModelService.setToken(this.getUserService().getToken())\n            return PublicModelService\n        }\n        ModelService.setToken(this.getUserService().getToken())\n        return ModelService\n    }\n\n    getPublicModelService () {\n        PublicModelService.setToken(this.getUserService().getToken())\n        return PublicModelService\n    }\n\n    getCommentService () {\n        CommentService.setToken(this.getUserService().getToken())\n        return CommentService\n    }\n\n}\nexport default new Services()","import AbstractService from 'services/AbstractService'\nimport Logger from 'common/Logger'\nimport Vue from \"vue\"\nimport ModelGeom from 'core/ModelGeom'\nimport lang from 'dojo/_base/lang'\nimport CoreUtil from 'core/CoreUtil'\n// import HelloWorld from 'examples/HelloWorld'\n\n/**\n * Add here imports\n */\n\nclass SymbolService extends AbstractService{\n\n    constructor () {\n        super()\n        this.logger = new Logger('SymbolService')\n        this.widgets = {\n          // 'HelloWorld': HelloWorld\n        }\n\n    }\n\n    getWidgetClass (name) {\n      return this.widgets[name]\n    }\n\n    getWidgetDataProps (name) {\n      if (this.widgetDataProps){\n        return this.widgetDataProps[name]\n      }\n    }\n\n    getIcons () {\n      return this._getChached('/icons.json')\n    }\n\n    hookInWidgets (themes) {\n      this.logger.log(2, 'hookInWidgets', 'enter > ' +  this.widgets.length  + \" + \" + themes.length)\n      this.widgetDataProps = {}\n      for (let name in this.widgets){\n        try {\n          let w = this.widgets[name]\n          let temp = this.$new(w)\n          let templates = temp.getCreateTemplates()\n          if (templates) {\n            templates.forEach(t => {\n              themes.push(t)\n            })\n          } else {\n            this.logger.error('hookInWidgets', `Error >  ${name}.getCreateTemplates() returns null`)\n          }\n          let props = temp.getDataProperties()\n          if (props) {\n            this.widgetDataProps[name] = props\n          }\n        } catch (e) {\n          this.logger.error('hookInWidgets', 'Error >  Could not create' +  name, e)\n        }\n      }\n    }\n\n\n    getCore() {\n      return new Promise( (resolve) => {\n        if (!this.themes) {\n          this.logger.log(3, 'getCore', 'exit > Load')\n          Promise.all([\n            //import(/* webpackChunkName: \"themes\" */ 'themes/screen.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/box.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/button.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/carousel.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/checkbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/checkboxgroup.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/date.json'),\n            //import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/date2.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/dnd.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/dropbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/hotspot.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/icon.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/image.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/label.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/link.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/mobile_drop_down.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/radiobox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/radiogroup.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/ratings.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/slider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/spinner.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/stepper.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/switch.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/segment_button.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/segment_picker.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/tab.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/table.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/textbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/timespinner.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/typeahead.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/volume.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/repeater.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/upload.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/camera.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/uploadpreview.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/weblink.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/progressbar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/screensegment.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/countingstepper.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/tree.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/iconbutton.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/paging.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/timeline.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/svg.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/lockslider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/visualpicker.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/icontogglebutton.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/iframe.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/progesssegments.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/imagepaging.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/navbar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/wireframe/navmenu.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/textbox.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/survey/labeledtextbox.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/survey/labeledtextarea.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/nps.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/checkbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/radio.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/date.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/sortablelist.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/checkboxgroup.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/radiogroup.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/radiotable.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/survey/buttons.json'),\n\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/button2.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/calender.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/checkbox.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/combobox.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/datepicker.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/daterange.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/daterangepicker.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/dialog2.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/label.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/link.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/list.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/listitem.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/navigation.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/panel.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/radio.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/segement.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/slider.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/switch.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/tabbar.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/table.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/textbox.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/toast.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/toggle.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/tool_footer.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/OpenUI/tool_header.json'),\n\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/buttons_rec.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/buttons.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/calendar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/checkbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/dialog.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/dropdown.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/labels.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/radiobox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/slider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/switch.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/material/textbox.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/buttons.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/chekcbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/chips.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/navbar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/radio.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/segmentbutton.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/stepper.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/slider.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/switch.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/textbox.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/togglebutton.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/buttons16.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/togglebutton16.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/segmentbutton16.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/ios/textbox16.json'),\n\n            import(/* webpackChunkName: \"themes\" */ 'themes/charts/bar.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/charts/legend.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/charts/pie.json'),\n            import(/* webpackChunkName: \"themes\" */ 'themes/charts/ring.json'),\n\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/alerts.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/boxes.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/button.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/card.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/checkbox.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/date.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/dialog.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/dropdown.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/image.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/input.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/input2.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/labels.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/tab.json'),\n            // import(/* webpackChunkName: \"themes\" */ 'themes/bootstrap4/table.json'),\n\n            //import(/* webpackChunkName: \"themes\" */ 'themes/survey/all.json'),\n\n          ]).then(values => {\n            this.themes = []\n            values.forEach(v => {\n              this.themes = this.themes.concat(v.default)\n            })\n            this.hookInWidgets(this.themes)\n            this.logger.log(3, 'getCore', 'exit > loaded', this.themes.length)\n            resolve(this.themes)\n          })\n        } else {\n          this.logger.log(3, 'getCore', 'exit > Cache')\n          resolve(this.themes)\n        }\n      })\n    }\n\n    convertAppToSymbols (app) {\n      let elements = Object.values(app.widgets).map(widget => {\n    \t\tlet element = lang.clone(widget)\n\t\t\t\tif (element.template && app.templates) {\n\t\t\t\t\tlet template = app.templates[element.template]\n\t\t\t\t\tif (template) {\n\t\t\t\t\t\tvar merged = lang.clone(template.style)\n\t\t\t\t\t\tif (element.style) {\n\t\t\t\t\t\t\tfor (var key in element.style) {\n\t\t\t\t\t\t\t\tmerged[key] = element.style[key]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telement.style = merged\n\t\t\t\t\t\tdelete element.template\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telement._type = 'Widget'\n\t\t\t\telement.imported = app.id + '@' + element.id\n\t\t\t\tlet group = this.getElementGroup(element.id, app)\n\t\t\t\tif (group) {\n\t\t\t\t\telement._group = group.id\n\t\t\t\t}\n\t\t\t\treturn element\n\t\t\t})\n\n\t\t\tif (app.groups) {\n\t\t\t\tlet groups = Object.values(app.groups).map(group => {\n          let bbbox = ModelGeom.getBoundingBox(group.children, app)\n          let result = {\n            w: bbbox.w,\n            h: bbbox.h,\n            id: group.id,\n            name: group.name,\n            children: [],\n            type: 'Group',\n            _type: 'Group'\n          }\n          group.children.forEach(childID => {\n            let element = elements.find(e => e.id === childID);\n            if (element) {\n              element = lang.clone(element)\n              delete element._type\n              delete element._group\n              element.x = element.x - bbbox.x\n              element.y = element.y - bbbox.y\n              result.children.push(element)\n            }\n          })\n\n          /**\n           * Sort the group elements to ensure the correct rendering!\n           */\n          result.children = CoreUtil.getOrderedWidgets(result.children)\n\n\t\t\t\t\treturn result\n        })\n        elements = elements.concat(groups)\n\t\t\t}\n\n      elements = elements.filter(element => !element._group);\n      return elements\n    }\n\n    getElementGroup (widgetID, model) {\n\t\t\tif (model.groups) {\n\t\t\t\tfor (var id in model.groups) {\n\t\t\t\t\tvar group = model.groups[id];\n\t\t\t\t\tvar i = group.children.indexOf(widgetID);\n\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\treturn group;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n    $new (cls) {\n      var ComponentClass = Vue.extend(cls);\n      var instance = new ComponentClass();\n      instance.mode = this.mode\n      instance.$mount(); // pass nothing\n      return instance;\n    }\n\n}\nexport default new SymbolService()","import Logger from 'core/Logger'\nimport { v4 as uuidv4 } from 'uuid';\nexport default class WebSocketService {\n\n  constructor (url, appId, jwtToken, user ={} ) {\n    this.url = url\n    this.appId = appId\n    this.user = user\n    this.jwtToken = jwtToken\n  }\n\n  init (callback) {\n    Logger.log(1, 'WebSocketService.init()', this.appId, this.url)\n    try {\n      let connection = new WebSocket(`${this.url}/?app=${this.appId}&jwt=${this.jwtToken}`)\n      connection.onmessage = (event) => {\n        this.handleEvent(event)\n      }\n      connection.onopen = () => {\n        Logger.log(-1, 'WebSocketService.init() > Success', this.appId)\n        this.connection = connection\n        if (callback) {\n          callback(true)\n        }\n      }\n      connection.onerror = (err) => {\n        Logger.error('WebSocketService.init() > cannot init', err)\n        if (this.errorCallback) {\n          this.errorCallback(err)\n        }\n      }\n    } catch (err) {\n      Logger.error('WebSocketService.constructor() > cannot init', err)\n      if (this.errorCallback) {\n        this.errorCallback(err)\n      }\n    }\n\n\n  }\n\n  handleEvent (event) {\n    if (this.messageCallback) {\n      try {\n        let msg = JSON.parse(event.data)\n        this.messageCallback(msg)\n      } catch (err) {\n        Logger.error('WebSocketService.handleEvent() > cannot handle event', err)\n      }\n    }\n  }\n\n  onMessage(callback) {\n    this.messageCallback = callback\n  }\n\n  onError(callback) {\n    this.errorCallback = callback\n  }\n\n  send (message) {\n    if (this.connection) {\n      message.id = uuidv4()\n      message.clientTS = new Date().getTime()\n      message.appId = this.appId\n      message.user = {\n        id: this.user.id,\n        email: this.user.email,\n        name: this.user.name,\n        lastname: this.user.lastname,\n        image: this.user.image\n      }\n      this.connection.send(JSON.stringify(message))\n      Logger.log(5, 'WebSocketService.send() > exit', message)\n    }\n  }\n\n  close() {\n    Logger.log(-1, 'WebSocketService.close()')\n    if (this.connection) {\n      this.connection.close()\n    }\n  }\n\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + ({\"39\":\"help\",\"55\":\"apps\",\"103\":\"unit\",\"443\":\"about\",\"504\":\"simulator\",\"578\":\"jszip\",\"598\":\"design\",\"721\":\"matc\",\"767\":\"themes\",\"835\":\"ace\"}[chunkId] || chunkId) + \".\" + {\"39\":\"2d1ca0ce\",\"55\":\"a41ba121\",\"103\":\"29196f09\",\"266\":\"ea11f30c\",\"268\":\"a69ec4fa\",\"275\":\"8cbc7d27\",\"443\":\"f5e512dc\",\"504\":\"045a7259\",\"578\":\"dfc101ab\",\"598\":\"e0591c84\",\"647\":\"e70327aa\",\"651\":\"5541d573\",\"658\":\"12a26934\",\"721\":\"1c1a07cf\",\"767\":\"1505b620\",\"796\":\"6f65d1db\",\"810\":\"347e8971\",\"835\":\"190fdacd\",\"838\":\"2597d8b6\",\"840\":\"d766d78f\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + ({\"55\":\"apps\",\"103\":\"unit\",\"443\":\"about\",\"504\":\"simulator\",\"598\":\"design\",\"721\":\"matc\"}[chunkId] || chunkId) + \".\" + {\"55\":\"2f90b1ad\",\"103\":\"59cfb1b9\",\"443\":\"5c2bf7df\",\"504\":\"50f8bc1b\",\"598\":\"fe58c4cd\",\"651\":\"cad7126a\",\"658\":\"59f47e8e\",\"721\":\"cb99a7f2\",\"796\":\"00a77a6a\",\"810\":\"f19859eb\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"quant-ux:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","var createStylesheet = function(chunkId, fullhref, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tdocument.head.appendChild(linkTag);\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"55\":1,\"103\":1,\"443\":1,\"504\":1,\"598\":1,\"651\":1,\"658\":1,\"721\":1,\"796\":1,\"810\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquant_ux\"] = self[\"webpackChunkquant_ux\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4097); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["vommonLoggingQueue","vommonLoggingQueuePos","vommonLoggingQueueMax","vommonLoggingDebugLevel","Logger","constructor","className","toLowerCase","console","warn","this","debugLevel","serverDebugLevel","prefix","url","setUser","writeQueue","q","sort","a","b","t","i","length","Date","toISOString","m","e","error","sendError","meth","message","stack","method","obj","warning","info","data1","log","debug","level","indexOf","undefined","entry","getTime","Core","Evented","super","getParentWidgets","widget","model","result","sortedWidgets","getOrderedWidgets","widgets","container","id","isContainer","_isContainedInBox","push","getObjectLength","o","Object","keys","getClones","ids","target","previews","boudingBox","getBoundingBox","xFactor","x","yFactor","y","xCount","Math","floor","w","yCount","h","xSpace","round","max","ySpace","offSets","box","getBoxById","count","offset","clone","z","group","cloneOff","preview","clones","ModelGeom","getBoundingBoxByBoxes","boxes","getParentScreen","screens","screen","children","getWidgetPostionInScreen","_getGroupChildResizePosition","oldGroup","newGroup","dif","ModelResizer","getGroupChildResizePosition","getObjectFromArray","list","key","item","value","getArrayFromObject","ModelUtil","getWidgetsByDistanceAndType","types","widgetID","childWidget","type","d","_distributedPositions","boundingBox","DistributeUtil","getGroupBoundingBox","min","getScreenAnimation","eventType","animation","getDataBinding","props","databinding","getCallbacks","callbacks","countProps","k","hasOwnProperty","objectEquals","v1","v2","toString","r","getStyle","element","getInheritedStyle","widgetViewMode","parentWidget","parent","style","lang","mixin","getWidgetById","parts","split","getLineFrom","boxID","inherited","lines","line","from","getFromLines","localeCompare","getGroupHierarchy","getParentGroup","unshift","getCommonParentGroup","selection","parentGroups","Set","add","size","getTopParentGroup","getAllChildGroups","groups","forEach","subId","sub","concat","getAllGroupChildren","slice","getZoomed","v","zoom","getZoomedCeil","getUnZoomed","getZoomedBox","zoomX","zoomY","getZoomedBoxCopy","isZoomed","getUnZoomedBoxCopy","getUnZoomedBox","createZoomedModel","isPreview","zoomedModel","screenSize","zoomedScreen","wid","zoomWidget","orgWidget","orgScreen","difX","difY","points","inheritedModel","createInheritedModel","overwritenWidgets","screenID","inModel","createContaineredModel","createScreenSegmentModel","inScreen","parents","parentID","parentScreen","_addRulersFromParent","_addBackgroundFromParent","parentChildren","j","parentWidgetID","overwritenWidgetID","overwritenWidget","hover","parentCopy","inheritedCopies","parentWidgetPos","_inheried","copy","inheritedScreen","masterScreen","inheritedOrder","copies","inlineModelDesignTokens","inlineAllTemplateVariants","rulers","ruler","version","screenSegments","segment","segmentParent","getContainedChildWidgets","map","scrn","sortChildren","found","addContainerChildrenToModel","keepTrack","_mixed","mixinNotOverwriten","mixed","getStartScreen","start","stripHTML","s","replace","unStripHTML","setInnerHTML","txt","innerHTML","setTextContent","textContent","getHoverScreen","_getHoverScreen","_isBoxChild","getNormalizeWidgetZValues","values","sortWidgetList","lastZ","getMinZValue","l","getMaxZValue","getZValues","fixMissingZValue","isFixedWidget","fixed","useIds","isFixed","aFix","bFix","getModelChildren","pos","getLinesForWidget","groupLine","topGroup","getToLines","to","getLines","deep","_ids","childID","hasLine","getLine","getFromBox","fromPos","getToBox","getChildScreens","filter","getMasterScreens","getAllRulers","getSortedScreenChildren","isReverse","reverse","CoreUtil","getDistributionMatrix","horizontal","getDistributionSets","vertical","sets","end","_addToDisSet","distributedPositions","distances","set","temp","_distributedPositionsInSubSet","tempPositions","positions","overlapps","overlap","_getDisOverlap","merged","splice","c","_getSelectionGroupPositions","_getDistributedPositions","newPos","widgetPos","offSetX","offSetY","distanceX","distanceY","sum","last","space","lastBox","bbx","logLevel","setLogLevel","msg","obj2","isBoundingBox","getMinZValueByIDs","templates","copiedParentWidget","_s","JSON","stringify","parse","getRulerMoveUpdates","oldV","newV","resize","abs","oldBoundingBox","newBoundingBox","oneIsTrue","getResponsiveChildPosition","getRelativeChildPosition","up","down","left","right","fixedHorizontal","fixedVertical","newModel","relPos","difLeft","difRight","difUp","difDown","getResizePosition","resizeModel","minH","minW","designTokenCssProps","scaleToSelection","scale","scaleToSelectionWidthOrHeight","difW","difH","isLogicWidget","inlineTemplateVariant","template","variantOf","mixinNewStyles","active","focus","designtokens","inlineBoxDesignToken","screenId","state","stateTokens","cssProp","designTokenId","designToken","isComplex","updateTemplateModifies","_templateModified","modified","inlineTemplateStyles","getTemplatedStyle","getMergedTemplate","templateId","prop","getCopiesOfTemplate","copyOf","getVariantesOfTemplate","createScalledModelFast","grid","getZoomedBoxFast","zoomedWidget","locked","zoomedLine","event","zoomedPoint","getZoomedPointFast","name","createScalledModel","ceil","updateInheritedRefs","updateErrorLabelsInScreen","refs","errorLabels","inheritedErrorLabels","setMergedTemplateStyle","mode","updateTemplateStyle","setStylesNotInTemplate","widgetStyle","templateStyle","getViewModeStyle","normal","getCanvasWidgets","widgetsOnScreens","getWidgetsByTemplate","getGroupsByTemplate","groupID","source","getZValuesForScreen","canvasChildren","labelStyle","buttonStyle","containerStyle","defaultStyle","defaultImage","screenStyle","textboxStyle","tableStyle","dropdownStyle","checkboxStyle","radioBoxStyle","defaultStyleKeys","paddingKeys","pixelStyles","getDefaultStyle","Label","Container","Button","Default","Screen","TextBox","Table","Image","DropDown","CheckBox","RadioBox","getCustomStyle","app","topN","counts","getCustomStyleCounts","countToStyle","has","getMostUsedStyles","getLabels","getContainer","getButtons","getInputs","getTable","getCheckBox","getRadioBox","getDropDown","getImage","isButton","label","between","elements","keyCounts","pairs","_dojoWidgetEventListener","_dojoOwnListeners","_dojoWidgetEventListenerIds","stopEvent","stopPropagation","preventDefault","own","listener","Error","cleanUpEvented","_dojoCleanUpEvent","_dojoCleanUpOwn","emit","value1","value2","value3","value4","value5","$emit","listeners","callback","remove","on","_removeListener","hitch","scope","arguments","_hitchArgs","apply","isString","join","method1","pre","_toArray","named","args","f","it","String","isArray","Array","isObject","_mixin","dest","copyFunc","empty","arr","css","toggle","node","cls","document","getElementById","contains","trim","classes","win","doc","body","getElementsByTagName","getBox","window","scrollRoot","documentElement","clientWidth","clientHeight","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","ref","staticRenderFns","methods","showSuccess","setTimeout","showError","showHint","hideMessage","handler4xx","alert","Services","initNLS","component","Vue","use","VueRouter","matcRoutes","path","meta","hasHeader","hideHeader","routes","viewMode","isPublic","async","initConfig","conf","getConfig","auth","keycloakService","getUserService","setConf","VueI18n","config","productionTip","router","i18n","locale","fallbackLocale","messages","require","App","$mount","AbstractService","token","setToken","_createDefaultHeader","headers","Headers","addHeaders","_getChached","successCallback","errorCallback","logger","Promise","resolve","reject","_cache","fetch","credentials","then","res","status","json","onError","catch","err","_get","_post","data","_put","_delete","header","setErrorHandler","handler","errorHandler","UserService","language","GUEST","email","role","lastlogin","lastNotification","tos","paidUntil","plan","signup","login","user","errors","save","userID","logout","localStorage","removeItem","Cookies","domain","reset","reset2","password","retire","load","get","getItem","setTTL","isValidUser","getToken","loadById","getNotications","setLastNotication","getLastNotication","getUser","tokenTimedOut","u","exp","location","href","jwt","parseJwt","ttlTimeout","clearTimeout","waitTime","base64Url","base64","jsonPayload","decodeURIComponent","atob","charCodeAt","setItem","expires","secure","setLanguage","langauge","getLanguage","navigator","contact","deleteImage","image","ModelService","createApp","updateAppProps","change","saveApp","copyApp","newName","updateApp","changes","deleteApp","findPublicSummaries","findMyAppSummaries","findPublic","findMyApps","findApp","findAppByHash","hash","checkAppUpdateByHash","findImages","getCommands","saveCommands","addCommand","command","deleteCommand","shiftStack","undoCommand","redoCommand","findTeam","findTeamSuggestions","createTeam","updateTeam","deleteTeam","resetTeam","saveEvent","findEvents","findEventsBatch","countEvents","findEventsBySession","session","deleteEventsBySession","findMouse","findMouseBySession","saveMouse","events","deleteMouseBySession","findSessionAnnotations","findTagAnnotations","deleteAnnotation","annotationId","saveAnnotation","annotation","updateAnnotation","findInvitation","findTest","findTestByHash","saveTestSettings","test","findPublicMouse","findPublicMouseBySession","appId","sessionId","findPublicTagAnnotations","PublicModelService","CommentService","findAll","appID","find","reference","delete","comment","create","update","HelpService","getAll","texts","all","flatMap","_all","title","paragraphs","p","ImageService","upload","formData","progressHandler","xhr","XMLHttpRequest","open","onprogress","setRequestHeader","onload","response","send","KeyCloakService","REFRESH_INTERVAl","isKeyCloak","initOptions","keycloak","realm","clientId","init","isInited","Keycloak","onLoad","silentCheckSsoRedirectUri","origin","onReady","authenticated","loadUserProfile","quxUser","username","lastname","setInterval","updateToken","onAuthLogout","AIService","runCodex","runCompletions","runDavinci","temperature","maxTokens","prompt","choices","choice","content","text","extractHTML","runFakeYaml","ms","yaml","runFakeYaml2","runFake","html","runGPT4Turbo","options","runChatHTML","runGPT4","runGPT35Turbo","runGPT4TurboYaml","runPrompt","returnType","now","extractYAML","code","getStylePrompt","isCustomStyles","customStyles","StyleImporter","background","button","color","input","borderTopColor","substring","getAssistants","getImageService","getWebSocketService","modelId","websocket","ws","WebSocketService","getAIService","aiService","getSymbolService","SymbolService","getHelpService","getModelService","route","getPublicModelService","getCommentService","getWidgetClass","getWidgetDataProps","widgetDataProps","getIcons","hookInWidgets","themes","$new","getCreateTemplates","getDataProperties","getCore","default","convertAppToSymbols","_type","imported","getElementGroup","_group","bbbox","ComponentClass","extend","instance","jwtToken","connection","WebSocket","onmessage","handleEvent","onopen","onerror","messageCallback","onMessage","uuidv4","clientTS","close","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","amdD","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","n","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","__proto__","ns","def","current","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","reduce","promises","miniCssF","g","globalThis","Function","prototype","inProgress","dataWebpackPrefix","done","script","needAttach","scripts","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","createStylesheet","fullhref","linkTag","rel","onLinkComplete","errorType","realHref","request","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","baseURI","self","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}